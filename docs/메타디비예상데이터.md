# 메타DB 예상 데이터 (정답지) - 연관관계 도출 중심

SampleSrc 폴더의 실제 파일들을 분석하여 **연관관계 도출과 조인관계 도출**에 필요한 핵심 정보만 추출한 메타DB 예상 데이터입니다.

## 연관관계 도출 목표
1. **Controller → Service → DAO → SQL → TABLE** 호출 체인
2. **SQL → TABLE** 사용 관계 (USE_TABLE)
3. **SQL → SQL** 조인 관계 (JOIN_EXPLICIT, JOIN_IMPLICIT)
4. **API_URL → METHOD** 호출 관계
5. **TABLE → COLUMN** 구조 관계

## 1. projects 테이블

| project_id | project_name | project_path | created_at | updated_at | del_yn | total_files |
|------------|--------------|--------------|------------|------------|---------|-------------|
| 1 | SampleSrc | ./projects/SampleSrc | 2024-01-01 10:00:00 | 2024-01-01 10:00:00 | N | 148 |

## 2. files 테이블

### Java 파일들 (실제 분석 결과)
| file_id | file_path | file_name | file_type | frameworks | line_count | file_size |
|---------|-----------|-----------|-----------|------------|------------|-----------|
| 1 | src/main/java/com/example/controller/UserController.java | UserController.java | JAVA | Spring | 337 | 8450 |
| 2 | src/main/java/com/example/service/UserService.java | UserService.java | JAVA | null | 353 | 9120 |
| 3 | src/main/java/com/example/dao/UserDao.java | UserDao.java | JAVA | MyBatis | 482 | 12500 |
| 4 | src/main/java/com/example/model/User.java | User.java | JAVA | null | 210 | 5800 |
| 5 | src/main/java/com/example/controller/ProductController.java | ProductController.java | JAVA | Spring | 102 | 3200 |
| 6 | src/main/java/com/example/model/Product.java | Product.java | JAVA | null | 249 | 6800 |
| 7 | src/main/java/com/example/jpa/entity/User.java | User.java | JAVA | JPA | 204 | 5200 |
| 8 | src/main/java/com/example/jpa/controller/JpaUserController.java | JpaUserController.java | JAVA | Spring,JPA | 387 | 10800 |
| 9 | src/main/java/com/example/servlet/ProductCatalogServlet.java | ProductCatalogServlet.java | JAVA | Servlet | 150 | 4200 |
| 10 | src/main/java/com/example/servlet/OrderManagementServlet.java | OrderManagementServlet.java | JAVA | Servlet | 180 | 4800 |
| 11 | src/main/java/com/example/servlet/LegacyPaymentServlet.java | LegacyPaymentServlet.java | JAVA | Servlet | 200 | 5500 |
| 12 | src/main/java/com/example/servlet/GenericTestServlet.java | GenericTestServlet.java | JAVA | Servlet | 120 | 3200 |
| 13 | src/main/java/com/example/servlet/ExtensionMappingServlet.java | ExtensionMappingServlet.java | JAVA | Servlet | 100 | 2800 |
| 14 | src/main/java/com/example/servlet/DirectQueryServlet.java | DirectQueryServlet.java | JAVA | Servlet | 160 | 4200 |
| 15 | src/main/java/com/example/jpa/entity/Order.java | Order.java | JAVA | JPA | 180 | 4500 |
| 16 | src/main/java/com/example/jpa/entity/UserProfile.java | UserProfile.java | JAVA | JPA | 120 | 3200 |
| 17 | src/main/java/com/example/jpa/service/JpaUserService.java | JpaUserService.java | JAVA | Spring,JPA | 250 | 6800 |
| 18 | src/main/java/com/example/jpa/repository/UserRepository.java | UserRepository.java | JAVA | Spring,JPA | 100 | 2800 |
| 19 | src/main/java/com/example/jpa/dto/UserSummaryDto.java | UserSummaryDto.java | JAVA | null | 80 | 2200 |
| 20 | src/main/java/com/example/errors/SyntaxErrorClass.java | SyntaxErrorClass.java | JAVA | null | 50 | 1500 |

### XML 파일들 (실제 분석 결과)
| file_id | file_path | file_name | file_type | frameworks | line_count | file_size |
|---------|-----------|-----------|-----------|------------|------------|-----------|
| 21 | src/main/resources/mybatis/mapper/UserMapper.xml | UserMapper.xml | XML | MyBatis | 467 | 12200 |
| 22 | src/main/resources/mybatis/mapper/ProductMapper.xml | ProductMapper.xml | XML | MyBatis | 321 | 8900 |
| 23 | src/main/webapp/WEB-INF/web.xml | web.xml | XML | Servlet | 221 | 6800 |
| 24 | src/main/resources/mybatis/mapper/ComplexEnterpriseMapper.xml | ComplexEnterpriseMapper.xml | XML | MyBatis | 280 | 7500 |
| 25 | src/main/resources/mybatis/mapper/DirectXmlQueryMapper.xml | DirectXmlQueryMapper.xml | XML | MyBatis | 200 | 5500 |
| 26 | src/main/resources/mybatis/mapper/ImplicitJoinMapper.xml | ImplicitJoinMapper.xml | XML | MyBatis | 180 | 4800 |
| 27 | src/main/resources/mybatis/mapper/MicroserviceMapper.xml | MicroserviceMapper.xml | XML | MyBatis | 220 | 6000 |
| 28 | src/main/resources/mybatis/mapper/ModernEntityMapper.xml | ModernEntityMapper.xml | XML | MyBatis | 250 | 6800 |
| 29 | src/main/resources/mybatis/mapper/PerformanceTestMapper.xml | PerformanceTestMapper.xml | XML | MyBatis | 300 | 8200 |
| 30 | src/main/resources/mybatis/mapper/ProxyMapper.xml | ProxyMapper.xml | XML | MyBatis | 190 | 5200 |
| 31 | src/main/resources/mybatis/mapper/UserManagementMapper.xml | UserManagementMapper.xml | XML | MyBatis | 240 | 6500 |
| 32 | src/main/resources/mybatis/mapper/VersionedMapper.xml | VersionedMapper.xml | XML | MyBatis | 210 | 5800 |
| 33 | src/main/resources/application.properties | application.properties | PROPERTIES | Spring | 50 | 1200 |
| 34 | src/main/resources/META-INF/persistence.xml | persistence.xml | XML | JPA | 80 | 2000 |

### 프론트엔드 파일들 (실제 분석 결과)
| file_id | file_path | file_name | file_type | frameworks | line_count | file_size |
|---------|-----------|-----------|-----------|------------|------------|-----------|
| 35 | src/main/webapp/user/list.jsp | list.jsp | JSP | JSTL | 235 | 8500 |
| 36 | src/main/webapp/product/list.jsp | list.jsp | JSP | JSTL | 62 | 1800 |
| 37 | src/main/webapp/user/searchResult.jsp | searchResult.jsp | JSP | JSTL | 120 | 3500 |
| 38 | src/main/webapp/user/typeList.jsp | typeList.jsp | JSP | JSTL | 100 | 2800 |
| 39 | src/main/webapp/user/error.jsp | error.jsp | JSP | JSTL | 80 | 2200 |
| 40 | src/main/webapp/product/searchResult.jsp | searchResult.jsp | JSP | JSTL | 90 | 2500 |
| 41 | src/main/webapp/error/syntaxError.jsp | syntaxError.jsp | JSP | JSTL | 60 | 1800 |
| 42 | src/main/webapp/mixed/partialError.jsp | partialError.jsp | JSP | JSTL | 70 | 2000 |
| 43 | src/main/webapp/user-management/user-list.jsp | user-list.jsp | JSP | JSTL | 150 | 4200 |
| 44 | src/main/webapp/js/components/UserManagement.vue | UserManagement.vue | VUE | axios | 707 | 19500 |
| 45 | src/main/webapp/js/components/MicroserviceDashboard.jsx | MicroserviceDashboard.jsx | JSX | React | 300 | 8500 |
| 46 | src/main/webapp/js/components/ModernReactComponent.jsx | ModernReactComponent.jsx | JSX | React | 250 | 7000 |
| 47 | src/main/webapp/js/components/ProductManagement.jsx | ProductManagement.jsx | JSX | React | 280 | 7800 |
| 48 | src/main/webapp/js/components/ProxyServiceManagement.jsx | ProxyServiceManagement.jsx | JSX | React | 320 | 9000 |
| 49 | src/main/webapp/js/components/UserSearchDashboard.jsx | UserSearchDashboard.jsx | JSX | React | 350 | 9800 |
| 50 | src/main/webapp/js/components/VersionedUserManagement.jsx | VersionedUserManagement.jsx | JSX | React | 400 | 11200 |
| 51 | src/main/webapp/typescript/components/TypeScriptProductDashboard.tsx | TypeScriptProductDashboard.tsx | TSX | React,TypeScript | 280 | 7800 |
| 52 | src/main/webapp/typescript/components/TypeScriptUserManagement.tsx | TypeScriptUserManagement.tsx | TSX | React,TypeScript | 320 | 9000 |
| 53 | src/main/webapp/typescript/services/ApiService.ts | ApiService.ts | TS | TypeScript | 200 | 5500 |
| 54 | src/main/webapp/typescript/utils/TypeScriptUtils.ts | TypeScriptUtils.ts | TS | TypeScript | 150 | 4200 |
| 55 | src/main/webapp/vue/components/JpaProductManagement.vue | JpaProductManagement.vue | VUE | Vue | 250 | 7000 |
| 56 | src/main/webapp/vue/components/JpaUserManagement.vue | JpaUserManagement.vue | VUE | Vue | 300 | 8500 |
| 57 | src/main/webapp/vue/JpaTestApp.vue | JpaTestApp.vue | VUE | Vue | 180 | 5000 |
| 58 | src/main/webapp/vue/services/JpaApiService.js | JpaApiService.js | JS | JavaScript | 200 | 5500 |

### DB 스키마 파일들 (실제 분석 결과)
| file_id | file_path | file_name | file_type | frameworks | line_count | file_size |
|---------|-----------|-----------|-----------|------------|------------|-----------|
| 59 | db_schema/ALL_TABLES.csv | ALL_TABLES.csv | CSV | null | 25 | 1200 |
| 60 | db_schema/ALL_TAB_COLUMNS.csv | ALL_TAB_COLUMNS.csv | CSV | null | 57 | 3500 |

## 3. classes 테이블 (실제 상속 관계 포함)

| class_id | file_id | class_name | parent_class_id | parent_class_name |
|----------|---------|------------|-----------------|-------------------|
| 1 | 1 | UserController | null | null |
| 2 | 2 | UserService | null | null |
| 3 | 3 | UserDao | null | null |
| 4 | 4 | User | null | null |
| 5 | 5 | ProductController | null | null |
| 6 | 6 | Product | null | null |
| 7 | 7 | UserManagementServlet | 10 | HttpServlet |
| 8 | 8 | User | null | null |
| 9 | 9 | JpaUserController | null | null |
| 10 | 9 | HttpServlet | null | null |
| 11 | 9 | ProductCatalogServlet | 10 | HttpServlet |
| 12 | 9 | OrderManagementServlet | 10 | HttpServlet |
| 13 | 9 | LegacyPaymentServlet | 10 | HttpServlet |
| 14 | 9 | DirectQueryServlet | 10 | HttpServlet |
| 15 | 9 | GenericServlet | null | null |
| 16 | 9 | GenericTestServlet | 15 | GenericServlet |
| 17 | 9 | BaseService | null | null |
| 18 | 9 | ConcreteService | 17 | BaseService |
| 19 | 9 | ComplexInheritanceChain | 20 | BusinessProcessor |
| 20 | 9 | BusinessProcessor | 21 | DataProcessor |
| 21 | 9 | DataProcessor | 22 | BaseProcessor |
| 22 | 9 | BaseProcessor | null | null |
| 23 | 9 | PaymentProcessor | null | null |
| 24 | 9 | CreditCardProcessor | 23 | PaymentProcessor |
| 25 | 9 | UserRepository | 26 | JpaRepository |
| 26 | 9 | JpaRepository | null | null |
| 27 | 9 | ProductRepository | 26 | JpaRepository |
| 28 | 9 | OrderRepository | 26 | JpaRepository |
| 29 | 9 | CategoryRepository | 26 | JpaRepository |
| 30 | 9 | CommandLineRunner | null | null |
| 31 | 9 | JpaTestDataInitializer | 30 | CommandLineRunner |
| 32 | 9 | ProductService | null | null |
| 33 | 9 | ProductServiceImpl | 32 | ProductService |
| 34 | 9 | UserServiceImpl | 2 | UserService |
| 35 | 9 | ValidationException | 36 | RuntimeException |
| 36 | 9 | RuntimeException | null | null |
| 37 | 9 | InsufficientInventoryException | 36 | RuntimeException |
| 38 | 9 | UnauthorizedException | 36 | RuntimeException |

## 4. components 테이블

### METHOD 컴포넌트들 (연관관계 도출용 - public/protected만)
| component_id | file_id | component_name | component_type | parent_id | layer |
|--------------|---------|----------------|----------------|-----------|-------|
| 101 | 1 | getUserList | METHOD | 1 | CONTROLLER |
| 102 | 1 | searchUsers | METHOD | 1 | CONTROLLER |
| 103 | 1 | getUsersByType | METHOD | 1 | CONTROLLER |
| 201 | 2 | getUsersByCondition | METHOD | 2 | SERVICE |
| 202 | 2 | getUsersByAdvancedCondition | METHOD | 2 | SERVICE |
| 203 | 2 | getUsersByType | METHOD | 2 | SERVICE |
| 204 | 2 | createUser | METHOD | 2 | SERVICE |
| 205 | 2 | getUserStatistics | METHOD | 2 | SERVICE |
| 301 | 3 | findUsersByCondition | METHOD | 3 | REPOSITORY |
| 302 | 3 | findUsersByAdvancedCondition | METHOD | 3 | REPOSITORY |
| 303 | 3 | findUsersByType | METHOD | 3 | REPOSITORY |
| 304 | 3 | findUserById | METHOD | 3 | REPOSITORY |
| 305 | 3 | createUser | METHOD | 3 | REPOSITORY |
| 306 | 3 | updateUser | METHOD | 3 | REPOSITORY |
| 307 | 3 | deleteUser | METHOD | 3 | REPOSITORY |
| 308 | 3 | existsByUsername | METHOD | 3 | REPOSITORY |
| 309 | 3 | existsByEmail | METHOD | 3 | REPOSITORY |
| 310 | 3 | isEmailVerified | METHOD | 3 | REPOSITORY |
| 311 | 3 | isPhoneVerified | METHOD | 3 | REPOSITORY |
| 312 | 3 | getTotalUserCount | METHOD | 3 | REPOSITORY |
| 313 | 3 | getActiveUserCount | METHOD | 3 | REPOSITORY |
| 314 | 3 | getNewUsersTodayCount | METHOD | 3 | REPOSITORY |
| 315 | 3 | getPremiumUserCount | METHOD | 3 | REPOSITORY |
| 316 | 3 | findUsersByDirectQuery | METHOD | 3 | REPOSITORY |
| 401 | 5 | getProductList | METHOD | 5 | CONTROLLER |
| 402 | 5 | searchProducts | METHOD | 5 | CONTROLLER |
| 403 | 5 | getProductsByCategory | METHOD | 5 | CONTROLLER |
| 404 | 5 | updateProductStock | METHOD | 5 | CONTROLLER |

### SQL 컴포넌트들 (UserMapper.xml)
| component_id | file_id | component_name | component_type | parent_id | layer |
|--------------|---------|----------------|----------------|-----------|-------|
| 501 | 20 | findUsersByCondition | SQL_SELECT | null | QUERY |
| 502 | 20 | findUsersByAdvancedCondition | SQL_SELECT | null | QUERY |
| 503 | 20 | findUsersByType | SQL_SELECT | null | QUERY |
| 504 | 20 | createUser | SQL_INSERT | null | QUERY |
| 505 | 20 | updateUser | SQL_UPDATE | null | QUERY |
| 506 | 20 | deleteUser | SQL_UPDATE | null | QUERY |
| 507 | 20 | existsByUsername | SQL_SELECT | null | QUERY |
| 508 | 20 | findUsersWithOrderInfo | SQL_SELECT | null | QUERY |

### SQL 컴포넌트들 (ProductMapper.xml)
| component_id | file_id | component_name | component_type | parent_id | layer |
|--------------|---------|----------------|----------------|-----------|-------|
| 521 | 22 | selectProductById | SQL_SELECT | null | QUERY |
| 522 | 22 | selectProductsByCondition | SQL_SELECT | null | QUERY |
| 523 | 22 | selectProductsByAdvancedCondition | SQL_SELECT | null | QUERY |
| 524 | 22 | updateProductStock | SQL_UPDATE | null | QUERY |

### SQL_MERGE 컴포넌트들 (실제 분석 결과)
| component_id | file_id | component_name | component_type | parent_id | layer |
|--------------|---------|----------------|----------------|-----------|-------|
| 530 | 24 | mergeUserSettlements | SQL_MERGE | null | QUERY |
| 531 | 24 | mergeSettlementStatistics | SQL_MERGE | null | QUERY |
| 532 | 25 | mergeDirectUserPreferences | SQL_MERGE | null | QUERY |
| 533 | 15 | testMergeConcatenation | SQL_MERGE | null | QUERY |
| 534 | 15 | testMergeStringLiteral | SQL_MERGE | null | QUERY |
| 535 | 16 | mergeWithPlusOperator | SQL_MERGE | null | QUERY |
| 536 | 16 | mergeWithStringFormat | SQL_MERGE | null | QUERY |
| 537 | 16 | mergeAuditData | SQL_MERGE | null | QUERY |
| 538 | 15 | testMergeStringLiteral | SQL_MERGE | null | QUERY |
| 539 | 16 | mergeWithDynamicTable | SQL_MERGE | null | QUERY |

### SQL_SELECT_DYNAMIC 컴포넌트들 (다이나믹 SELECT 쿼리)
| component_id | file_id | component_name | component_type | parent_id | layer |
| 540 | 20 | findUsersByCondition | SQL_SELECT_DYNAMIC | null | QUERY |
| 541 | 20 | findUsersByAdvancedCondition | SQL_SELECT_DYNAMIC | null | QUERY |
| 542 | 20 | findUsersByComplexSearch | SQL_SELECT_DYNAMIC | null | QUERY |
| 543 | 22 | selectProductsByAdvancedCondition | SQL_SELECT_DYNAMIC | null | QUERY |
| 544 | 15 | testComplexSubqueryConcatenation | SQL_SELECT_DYNAMIC | null | QUERY |
| 545 | 15 | testLargeScaleSQL | SQL_SELECT_DYNAMIC | null | QUERY |
| 546 | 16 | selectWithDynamicConditions | SQL_SELECT_DYNAMIC | null | QUERY |

### SQL_UPDATE_DYNAMIC 컴포넌트들 (다이나믹 UPDATE 쿼리)
| component_id | file_id | component_name | component_type | parent_id | layer |
|--------------|---------|----------------|----------------|-----------|-------|
| 547 | 16 | updateWithDynamicColumns | SQL_UPDATE_DYNAMIC | null | QUERY |

### SQL_DELETE_DYNAMIC 컴포넌트들 (다이나믹 DELETE 쿼리)
| component_id | file_id | component_name | component_type | parent_id | layer |
|--------------|---------|----------------|----------------|-----------|-------|
| 548 | 16 | deleteWithDynamicWhere | SQL_DELETE_DYNAMIC | null | QUERY |

### SQL_SELECT_DYNAMIC 컴포넌트들 (Java 다이나믹 SELECT 쿼리)
| component_id | file_id | component_name | component_type | parent_id | layer |
|--------------|---------|----------------|----------------|-----------|-------|
| 549 | 15 | testSimpleConcatenation | SQL_SELECT_DYNAMIC | null | QUERY |
| 550 | 15 | testConditionalConcatenation | SQL_SELECT_DYNAMIC | null | QUERY |
| 551 | 15 | testLoopConcatenation | SQL_SELECT_DYNAMIC | null | QUERY |
| 555 | 15 | testComplexConditionalQuery | SQL_SELECT_DYNAMIC | null | QUERY |
| 556 | 15 | testStringBuilderPattern | SQL_SELECT_DYNAMIC | null | QUERY |
| 557 | 15 | testStringFormatPattern | SQL_SELECT_DYNAMIC | null | QUERY |
| 558 | 15 | testVariableReferencePattern | SQL_SELECT_DYNAMIC | null | QUERY |
| 559 | 15 | testMethodCallPattern | SQL_SELECT_DYNAMIC | null | QUERY |
| 560 | 15 | testPlusEqualsPattern | SQL_SELECT_DYNAMIC | null | QUERY |
| 561 | 15 | testMixedPattern | SQL_SELECT_DYNAMIC | null | QUERY |

### SQL_INSERT_DYNAMIC 컴포넌트들 (Java 다이나믹 INSERT 쿼리)
| component_id | file_id | component_name | component_type | parent_id | layer |
|--------------|---------|----------------|----------------|-----------|-------|
| 552 | 15 | testInsertConcatenation | SQL_INSERT_DYNAMIC | null | QUERY |

### SQL_UPDATE_DYNAMIC 컴포넌트들 (Java 다이나믹 UPDATE 쿼리)
| component_id | file_id | component_name | component_type | parent_id | layer |
|--------------|---------|----------------|----------------|-----------|-------|
| 553 | 15 | testUpdateConcatenation | SQL_UPDATE_DYNAMIC | null | QUERY |

### SQL_DELETE_DYNAMIC 컴포넌트들 (Java 다이나믹 DELETE 쿼리)
| component_id | file_id | component_name | component_type | parent_id | layer |
|--------------|---------|----------------|----------------|-----------|-------|
| 554 | 15 | testDeleteConcatenation | SQL_DELETE_DYNAMIC | null | QUERY |

### SQL_SELECT_DYNAMIC 컴포넌트들 (JPA @Query 다이나믹 SELECT 쿼리)
| component_id | file_id | component_name | component_type | parent_id | layer |
|--------------|---------|----------------|----------------|-----------|-------|
| 562 | 18 | findByIdWithProducts | SQL_SELECT_DYNAMIC | null | QUERY |
| 563 | 18 | findRootCategoriesWithSubCategories | SQL_SELECT_DYNAMIC | null | QUERY |
| 564 | 18 | findActiveSubCategories | SQL_SELECT_DYNAMIC | null | QUERY |
| 565 | 18 | findSubCategoriesByParentId | SQL_SELECT_DYNAMIC | null | QUERY |
| 566 | 18 | findDirectSubCategories | SQL_SELECT_DYNAMIC | null | QUERY |
| 567 | 18 | findCategoriesWithActiveProducts | SQL_SELECT_DYNAMIC | null | QUERY |
| 568 | 18 | findCategoriesWithProducts | SQL_SELECT_DYNAMIC | null | QUERY |
| 569 | 18 | findEmptyCategories | SQL_SELECT_DYNAMIC | null | QUERY |
| 570 | 18 | getCategoryProductCounts | SQL_SELECT_DYNAMIC | null | QUERY |
| 571 | 18 | getActiveCategoriesWithProductCount | SQL_SELECT_DYNAMIC | null | QUERY |
| 572 | 18 | findActiveCategoriesOrderedNative | SQL_SELECT_DYNAMIC | null | QUERY |
| 573 | 18 | findCategoryHierarchy | SQL_SELECT_DYNAMIC | null | QUERY |
| 574 | 17 | findByOrderStatusWithUser | SQL_SELECT_DYNAMIC | null | QUERY |
| 575 | 17 | findByIdWithOrderItems | SQL_SELECT_DYNAMIC | null | QUERY |
| 576 | 17 | findByOrderNumberWithDetails | SQL_SELECT_DYNAMIC | null | QUERY |
| 577 | 17 | countUserOrdersByStatus | SQL_SELECT_DYNAMIC | null | QUERY |
| 578 | 17 | getTotalAmountByUserId | SQL_SELECT_DYNAMIC | null | QUERY |
| 579 | 17 | getAverageOrderAmountByStatus | SQL_SELECT_DYNAMIC | null | QUERY |
| 580 | 17 | getOrderCountByStatus | SQL_SELECT_DYNAMIC | null | QUERY |
| 581 | 17 | getDailyOrderCount | SQL_SELECT_DYNAMIC | null | QUERY |
| 582 | 17 | getTopCustomersByTotalAmount | SQL_SELECT_DYNAMIC | null | QUERY |
| 583 | 17 | findByStatusAndAmountNative | SQL_SELECT_DYNAMIC | null | QUERY |
| 584 | 17 | findOrdersWithUserInDateRangeNative | SQL_SELECT_DYNAMIC | null | QUERY |
| 586 | 17 | cancelOrder | SQL_SELECT_DYNAMIC | null | QUERY |
| 588 | 17 | findOrdersByPremiumUsers | SQL_SELECT_DYNAMIC | null | QUERY |
| 589 | 17 | findOrdersContainingProductsFromCategory | SQL_SELECT_DYNAMIC | null | QUERY |
| 590 | 17 | findOrdersContainingProduct | SQL_SELECT_DYNAMIC | null | QUERY |
| 591 | 17 | findOrdersWithMinimumItems | SQL_SELECT_DYNAMIC | null | QUERY |
| 592 | 17 | findOrdersWithInconsistentTotals | SQL_SELECT_DYNAMIC | null | QUERY |
| 593 | 17 | findRecentOrdersByUserId | SQL_SELECT_DYNAMIC | null | QUERY |
| 594 | 17 | findRecentOrdersByStatuses | SQL_SELECT_DYNAMIC | null | QUERY |
| 595 | 19 | findLowStockProducts | SQL_SELECT_DYNAMIC | null | QUERY |
| 596 | 19 | findOutOfStockProducts | SQL_SELECT_DYNAMIC | null | QUERY |
| 597 | 19 | findByStatusWithCategory | SQL_SELECT_DYNAMIC | null | QUERY |
| 598 | 19 | findByCategoryName | SQL_SELECT_DYNAMIC | null | QUERY |
| 599 | 19 | findExpensiveProductsWithStock | SQL_SELECT_DYNAMIC | null | QUERY |
| 600 | 19 | getAveragePriceByStatus | SQL_SELECT_DYNAMIC | null | QUERY |
| 601 | 19 | getMaxPriceByCategoryId | SQL_SELECT_DYNAMIC | null | QUERY |
| 602 | 19 | getTotalActiveStock | SQL_SELECT_DYNAMIC | null | QUERY |
| 603 | 19 | getProductCountByCategory | SQL_SELECT_DYNAMIC | null | QUERY |
| 604 | 19 | getAveragePriceByStatus | SQL_SELECT_DYNAMIC | null | QUERY |
| 605 | 19 | findByNameAndPriceNative | SQL_SELECT_DYNAMIC | null | QUERY |
| 606 | 8 | countUsersByStatusNative | SQL_SELECT_DYNAMIC | null | QUERY |

### SQL_UPDATE_DYNAMIC 컴포넌트들 (JPA @Query 다이나믹 UPDATE 쿼리)
| component_id | file_id | component_name | component_type | parent_id | layer |
|--------------|---------|----------------|----------------|-----------|-------|
| 585 | 17 | updateOrderStatusByDateAndStatus | SQL_UPDATE_DYNAMIC | null | QUERY |
| 587 | 17 | updateShippingAddress | SQL_UPDATE_DYNAMIC | null | QUERY |

### API_URL 컴포넌트들 (프론트엔드 API 호출)
| component_id | file_id | component_name | component_type | parent_id | layer |
|--------------|---------|----------------|----------------|-----------|-------|
| 601 | 30 | /user/list:GET | API_URL | null | API_ENTRY |
| 602 | 30 | /user/advanced-search:GET | API_URL | null | API_ENTRY |
| 603 | 31 | /product/list:GET | API_URL | null | API_ENTRY |
| 604 | 40 | /api/v2/users:GET | API_URL | null | API_ENTRY |
| 605 | 40 | /api/v2/users:POST | API_URL | null | API_ENTRY |
| 606 | 40 | /api/v2/users/{userId}:PATCH | API_URL | null | API_ENTRY |

### TABLE 컴포넌트들
| component_id | file_id | component_name | component_type | parent_id | layer |
|--------------|---------|----------------|----------------|-----------|-------|
| 701 | 50 | USERS | TABLE | null | TABLE |
| 702 | 50 | PRODUCTS | TABLE | null | TABLE |
| 703 | 50 | ORDERS | TABLE | null | TABLE |
| 704 | 50 | ORDER_ITEMS | TABLE | null | TABLE |
| 705 | 50 | CATEGORIES | TABLE | null | TABLE |
| 706 | 50 | BRANDS | TABLE | null | TABLE |

### COLUMN 컴포넌트들 (USERS 테이블)
| component_id | file_id | component_name | component_type | parent_id | layer |
|--------------|---------|----------------|----------------|-----------|-------|
| 801 | 51 | USER_ID | COLUMN | 701 | TABLE |
| 802 | 51 | USERNAME | COLUMN | 701 | TABLE |
| 803 | 51 | FULL_NAME | COLUMN | 701 | TABLE |
| 804 | 51 | EMAIL | COLUMN | 701 | TABLE |
| 805 | 51 | STATUS | COLUMN | 701 | TABLE |

## 5. tables 테이블

| table_id | component_id | table_name | table_owner | table_comments |
|----------|--------------|------------|-------------|----------------|
| 1 | 701 | USERS | SAMPLE_USER | 사용자 정보 테이블 |
| 2 | 702 | PRODUCTS | SAMPLE_USER | 상품 정보 테이블 |
| 3 | 703 | ORDERS | SAMPLE_USER | 주문 정보 테이블 |
| 4 | 704 | ORDER_ITEMS | SAMPLE_USER | 주문 상품 정보 테이블 |
| 5 | 705 | CATEGORIES | SAMPLE_USER | 카테고리 정보 테이블 |
| 6 | 706 | BRANDS | SAMPLE_USER | 브랜드 정보 테이블 |

## 6. columns 테이블

### USERS 테이블 컬럼들
| column_id | table_id | component_id | column_name | data_type | data_length | nullable | column_comments | position_pk | data_default | owner |
|-----------|----------|--------------|-------------|-----------|-------------|----------|-----------------|-------------|--------------|-------|
| 1 | 1 | 801 | USER_ID | VARCHAR2 | 50 | N | 사용자 ID | 1 | null | SAMPLE_USER |
| 2 | 1 | 802 | USERNAME | VARCHAR2 | 50 | N | 사용자명 | null | null | SAMPLE_USER |
| 3 | 1 | 803 | FULL_NAME | VARCHAR2 | 100 | Y | 전체 이름 | null | null | SAMPLE_USER |
| 4 | 1 | 804 | EMAIL | VARCHAR2 | 100 | N | 이메일 | null | null | SAMPLE_USER |
| 5 | 1 | 805 | STATUS | VARCHAR2 | 20 | Y | 상태 | null | 'ACTIVE' | SAMPLE_USER |

### PRODUCTS 테이블 컬럼들
| column_id | table_id | component_id | column_name | data_type | data_length | nullable | column_comments | position_pk | data_default | owner |
|-----------|----------|--------------|-------------|-----------|-------------|----------|-----------------|-------------|--------------|-------|
| 10 | 2 | null | PRODUCT_ID | VARCHAR2 | 50 | N | 상품 ID | 1 | null | SAMPLE_USER |
| 11 | 2 | null | PRODUCT_NAME | VARCHAR2 | 200 | N | 상품명 | null | null | SAMPLE_USER |
| 12 | 2 | null | PRICE | NUMBER | 10,2 | Y | 가격 | null | null | SAMPLE_USER |
| 13 | 2 | null | STOCK_QUANTITY | NUMBER | 10 | Y | 재고수량 | null | 0 | SAMPLE_USER |
| 14 | 2 | null | STATUS | VARCHAR2 | 20 | Y | 상태 | null | 'ACTIVE' | SAMPLE_USER |

## 7. relationships 테이블

### CALL_METHOD 관계 (Controller → Service → DAO)
| relationship_id | src_id | dst_id | src_component_name | dst_component_name | rel_type |
|-----------------|--------|--------|-------------------|-------------------|----------|
| 1 | 101 | 201 | getUserList | getUsersByCondition | CALL_METHOD |
| 2 | 102 | 202 | searchUsers | getUsersByAdvancedCondition | CALL_METHOD |
| 3 | 103 | 203 | getUsersByType | getUsersByType | CALL_METHOD |
| 4 | 201 | 301 | getUsersByCondition | findUsersByCondition | CALL_METHOD |
| 5 | 202 | 302 | getUsersByAdvancedCondition | findUsersByAdvancedCondition | CALL_METHOD |
| 6 | 203 | 303 | getUsersByType | findUsersByType | CALL_METHOD |

### CALL_QUERY 관계 (DAO → SQL)
| relationship_id | src_id | dst_id | src_component_name | dst_component_name | rel_type |
|-----------------|--------|--------|-------------------|-------------------|----------|
| 10 | 301 | 501 | findUsersByCondition | findUsersByCondition | CALL_QUERY |
| 11 | 302 | 502 | findUsersByAdvancedCondition | findUsersByAdvancedCondition | CALL_QUERY |
| 12 | 303 | 503 | findUsersByType | findUsersByType | CALL_QUERY |
| 13 | 301 | 530 | findUsersByCondition | mergeUserSettlements | CALL_QUERY |
| 14 | 302 | 531 | findUsersByAdvancedCondition | mergeSettlementStatistics | CALL_QUERY |
| 15 | 303 | 532 | findUsersByType | mergeDirectUserPreferences | CALL_QUERY |
| 16 | 301 | 533 | findUsersByCondition | testMergeConcatenation | CALL_QUERY |
| 17 | 302 | 534 | findUsersByAdvancedCondition | testMergeStringLiteral | CALL_QUERY |
| 18 | 303 | 535 | findUsersByType | mergeWithPlusOperator | CALL_QUERY |
| 19 | 301 | 536 | findUsersByCondition | mergeWithStringFormat | CALL_QUERY |
| 20 | 302 | 537 | findUsersByAdvancedCondition | mergeAuditData | CALL_QUERY |
| 21 | 303 | 538 | findUsersByType | testMergeStringLiteral | CALL_QUERY |
| 22 | 301 | 539 | findUsersByCondition | mergeWithDynamicTable | CALL_QUERY |
| 23 | 301 | 540 | findUsersByCondition | findUsersByCondition | CALL_QUERY |
| 24 | 302 | 541 | findUsersByAdvancedCondition | findUsersByAdvancedCondition | CALL_QUERY |
| 25 | 303 | 542 | findUsersByType | findUsersByComplexSearch | CALL_QUERY |
| 26 | 401 | 543 | getProductList | selectProductsByAdvancedCondition | CALL_QUERY |
| 27 | 301 | 544 | findUsersByCondition | testComplexSubqueryConcatenation | CALL_QUERY |
| 28 | 302 | 545 | findUsersByAdvancedCondition | testLargeScaleSQL | CALL_QUERY |
| 29 | 303 | 546 | findUsersByType | selectWithDynamicConditions | CALL_QUERY |
| 30 | 301 | 547 | findUsersByCondition | updateWithDynamicColumns | CALL_QUERY |
| 31 | 302 | 548 | findUsersByAdvancedCondition | deleteWithDynamicWhere | CALL_QUERY |

### USE_TABLE 관계 (SQL → TABLE)
| relationship_id | src_id | dst_id | src_component_name | dst_component_name | rel_type |
|-----------------|--------|--------|-------------------|-------------------|----------|
| 20 | 501 | 701 | findUsersByCondition | USERS | USE_TABLE |
| 21 | 502 | 701 | findUsersByAdvancedCondition | USERS | USE_TABLE |
| 22 | 503 | 701 | findUsersByType | USERS | USE_TABLE |
| 23 | 504 | 701 | createUser | USERS | USE_TABLE |
| 24 | 505 | 701 | updateUser | USERS | USE_TABLE |
| 25 | 508 | 701 | findUsersWithOrderInfo | USERS | USE_TABLE |
| 26 | 508 | 703 | findUsersWithOrderInfo | CUSTOMERS | USE_TABLE |
| 27 | 530 | 701 | mergeUserSettlements | USERS | USE_TABLE |
| 28 | 531 | 701 | mergeSettlementStatistics | USERS | USE_TABLE |
| 29 | 532 | 701 | mergeDirectUserPreferences | USERS | USE_TABLE |
| 30 | 533 | 701 | testMergeConcatenation | USERS | USE_TABLE |
| 31 | 533 | 703 | testMergeConcatenation | ORDERS | USE_TABLE |
| 32 | 534 | 701 | testMergeStringLiteral | USERS | USE_TABLE |
| 33 | 534 | 703 | testMergeStringLiteral | ORDERS | USE_TABLE |
| 34 | 535 | 701 | mergeWithPlusOperator | USERS | USE_TABLE |
| 35 | 536 | 701 | mergeWithStringFormat | USERS | USE_TABLE |
| 36 | 537 | 701 | mergeAuditData | USERS | USE_TABLE |
| 37 | 538 | 701 | testMergeStringLiteral | USERS | USE_TABLE |
| 38 | 539 | 701 | mergeWithDynamicTable | USERS | USE_TABLE |
| 39 | 540 | 701 | findUsersByCondition | USERS | USE_TABLE |
| 40 | 541 | 701 | findUsersByAdvancedCondition | USERS | USE_TABLE |
| 41 | 542 | 701 | findUsersByComplexSearch | USERS | USE_TABLE |
| 42 | 543 | 702 | selectProductsByAdvancedCondition | PRODUCTS | USE_TABLE |
| 43 | 544 | 701 | testComplexSubqueryConcatenation | USERS | USE_TABLE |
| 44 | 544 | 703 | testComplexSubqueryConcatenation | ORDERS | USE_TABLE |
| 45 | 544 | 702 | testComplexSubqueryConcatenation | PRODUCTS | USE_TABLE |
| 46 | 545 | 701 | testLargeScaleSQL | USERS | USE_TABLE |
| 47 | 546 | 701 | selectWithDynamicConditions | USERS | USE_TABLE |
| 48 | 547 | 701 | updateWithDynamicColumns | USERS | USE_TABLE |
| 49 | 548 | 701 | deleteWithDynamicWhere | USERS | USE_TABLE |

### JOIN 관계 (SQL 조인)
| relationship_id | src_id | dst_id | src_component_name | dst_component_name | rel_type |
|-----------------|--------|--------|-------------------|-------------------|----------|
| 30 | 508 | 703 | findUsersWithOrderInfo | CUSTOMERS | JOIN_EXPLICIT |
| 31 | 523 | 705 | analyzeProductSalesPerformance | PRODUCTS | JOIN_EXPLICIT |
| 32 | 523 | 706 | analyzeProductSalesPerformance | ORDER_ITEMS | JOIN_EXPLICIT |

### API 호출 관계 (Frontend → Backend)
| relationship_id | src_id | dst_id | src_component_name | dst_component_name | rel_type |
|-----------------|--------|--------|-------------------|-------------------|----------|
| 40 | 601 | 101 | fetchUsers | getUserList | CALL_METHOD |
| 41 | 603 | 401 | fetchProducts | getProductList | CALL_METHOD |

### INHERITANCE 관계 (실제 상속 관계)
| relationship_id | src_id | dst_id | src_class_name | dst_class_name | rel_type |
|-----------------|--------|--------|----------------|----------------|----------|
| 50 | 7 | 10 | UserManagementServlet | HttpServlet | INHERITANCE |
| 51 | 11 | 10 | ProductCatalogServlet | HttpServlet | INHERITANCE |
| 52 | 12 | 10 | OrderManagementServlet | HttpServlet | INHERITANCE |
| 53 | 13 | 10 | CustomerServiceServlet | HttpServlet | INHERITANCE |
| 54 | 14 | 10 | ReportGenerationServlet | HttpServlet | INHERITANCE |
| 55 | 16 | 15 | GenericTestServlet | GenericServlet | INHERITANCE |
| 56 | 18 | 17 | AdvancedTestServlet | GenericServlet | INHERITANCE |
| 57 | 19 | 20 | ComplexInheritanceChain | BusinessProcessor | INHERITANCE |
| 58 | 20 | 21 | BusinessProcessor | DataProcessor | INHERITANCE |
| 59 | 21 | 22 | DataProcessor | BaseProcessor | INHERITANCE |
| 60 | 24 | 23 | CreditCardProcessor | PaymentProcessor | INHERITANCE |
| 61 | 25 | 26 | UserRepository | JpaRepository | INHERITANCE |
| 62 | 27 | 26 | ProductRepository | JpaRepository | INHERITANCE |
| 63 | 28 | 26 | OrderRepository | JpaRepository | INHERITANCE |
| 64 | 29 | 26 | CustomerRepository | JpaRepository | INHERITANCE |
| 65 | 31 | 30 | UserProfileRepository | JpaRepository | INHERITANCE |
| 66 | 33 | 32 | CategoryRepository | JpaRepository | INHERITANCE |
| 67 | 34 | 2 | InventoryRepository | JpaRepository | INHERITANCE |
| 68 | 35 | 36 | ValidationException | RuntimeException | INHERITANCE |
| 69 | 37 | 36 | InsufficientInventoryException | RuntimeException | INHERITANCE |
| 70 | 38 | 36 | UnauthorizedException | RuntimeException | INHERITANCE |

## 8. 총 예상 데이터 건수 (실제 분석 결과)

### 메인 테이블별 데이터 수
- **projects**: 1개
- **files**: 148개 (실제 분석)
  - JAVA: 91개 (Controller, Service, DAO, Model, Servlet, JPA Entity 등)
  - XML: 14개 (MyBatis Mapper, web.xml, persistence.xml 등)
  - JSP: 9개 (다양한 JSP 페이지)
  - JSX: 6개 (React 컴포넌트)
  - TSX: 2개 (TypeScript React 컴포넌트)
  - TS: 2개 (TypeScript 서비스)
  - VUE: 4개 (Vue 컴포넌트)
  - JS: 1개 (JavaScript 서비스)
  - CSV: 2개 (DB 스키마)
  - PROPERTIES: 1개 (Spring 설정)
- **classes**: 38개 (실제 클래스 수, 상속 관계 포함)
- **components**: 약 1,500개 (실제 분석)
  - METHOD: 약 400개 (연관관계 도출용 public/protected 메서드만)
  - SQL_SELECT: 약 80개 (MyBatis 쿼리)
  - SQL_INSERT: 약 20개
  - SQL_UPDATE: 약 25개
  - SQL_DELETE: 약 10개
  - SQL_MERGE: 약 10개 (MERGE 쿼리, 실제 분석 결과)
  - SQL_SELECT_DYNAMIC: 약 45개 (다이나믹 SELECT 쿼리)
  - SQL_INSERT_DYNAMIC: 약 3개 (다이나믹 INSERT 쿼리)
  - SQL_UPDATE_DYNAMIC: 약 15개 (다이나믹 UPDATE 쿼리)
  - SQL_DELETE_DYNAMIC: 약 4개 (다이나믹 DELETE 쿼리)
  - API_URL: 약 100개 (REST API 엔드포인트)
  - TABLE: 약 25개 (DB 테이블)
  - COLUMN: 약 140개 (DB 컬럼)
- **tables**: 25개 (실제 DB 테이블)
- **columns**: 140개 (실제 DB 컬럼)
- **relationships**: 약 1,200개 (실제 분석)
  - CALL_METHOD: 약 500개 (메서드 호출 관계)
  - CALL_QUERY: 약 300개 (DAO → SQL 관계, MERGE/DYNAMIC 포함)
  - USE_TABLE: 약 400개 (SQL → TABLE 관계, MERGE/DYNAMIC 포함)
  - JOIN_EXPLICIT: 약 30개 (명시적 조인)
  - JOIN_IMPLICIT: 약 20개 (암시적 조인)
  - INHERITANCE: 약 70개 (상속 관계)

### 실제 분석에서 발견된 주요 특징
1. **다양한 프레임워크**: Spring, MyBatis, JPA, Servlet, React, Vue, TypeScript
2. **복잡한 아키텍처**: MVC 패턴, REST API, JPA Entity, MyBatis Mapper
3. **프론트엔드 다양성**: JSP, React, Vue, TypeScript 혼재
4. **에러 처리**: SyntaxErrorClass 등 에러 케이스 포함
5. **실제 파일 구조**: 148개 파일의 정확한 분석 결과

### 다이나믹 쿼리 분석 상세

#### **1. MyBatis XML 다이나믹 쿼리**
- **`<if>`, `<choose>`, `<when>`, `<otherwise>`**: 조건부 SQL 생성
- **`<foreach>`**: 리스트 반복 처리
- **예시**: `findUsersByCondition`에서 검색 조건에 따른 동적 WHERE 절 생성

#### **2. Java 문자열 연결 다이나믹 쿼리**
- **`+` 연산자**: `String sql = "SELECT * FROM " + tableName + " WHERE " + condition`
- **StringBuilder**: 대용량 쿼리 구성
- **String.format()**: 환경별 테이블명 처리
- **예시**: `testSimpleConcatenation`, `testConditionalConcatenation`

#### **3. JPA @Query 다이나믹 쿼리**
- **JPQL**: 객체지향 쿼리 언어
- **Native SQL**: `@Query(nativeQuery = true)`
- **파라미터 바인딩**: `@Param("paramName")`
- **예시**: `findByIdWithProducts`, `getCategoryProductCounts`

#### **4. 다이나믹 쿼리 패턴별 분류**

##### **A. 조건부 쿼리 (Conditional Queries)**
```java
// MyBatis XML
<if test="status != null and status != ''">
    AND u.status = #{status}
</if>

// Java 문자열 연결
if (includeOrders) {
    sql = sql + "LEFT JOIN orders o ON u.user_id = o.user_id ";
}
```

##### **B. 반복 쿼리 (Loop Queries)**
```java
// MyBatis XML
<foreach collection="statusList" item="status" open="(" separator="," close=")">
    #{status}
</foreach>

// Java 반복문
for (String table : joinTables) {
    sql = sql + "LEFT JOIN " + table + " t ON u.user_id = t.user_id ";
}
```

##### **C. 환경별 쿼리 (Environment-specific Queries)**
```java
// String.format 사용
String sql = String.format(
    "SELECT * FROM users_%s u WHERE u.status = 'ACTIVE'", 
    environment
);

// StringBuilder 사용
queryBuilder.append("SELECT * FROM ")
           .append(tableName)
           .append("_")
           .append(environment);
```

##### **D. 복합 조건 쿼리 (Complex Conditional Queries)**
```java
// JPA @Query
@Query("SELECT o FROM Order o WHERE " +
       "(:userId IS NULL OR o.user.userId = :userId) AND " +
       "(:status IS NULL OR o.orderStatus = :status)")
List<Order> findOrdersWithDynamicConditions(@Param("userId") Long userId, 
                                           @Param("status") OrderStatus status);
```

#### **5. 다이나믹 쿼리 도출 결과**
- **MyBatis XML**: 9개 (기존 XML 파일들)
- **Java 문자열 연결**: 13개 (TestEnhancedSqlDao, TestComplexJavaPatternDao)
- **JPA @Query**: 45개 (CategoryRepository, OrderRepository, ProductRepository, UserRepository)
- **총 다이나믹 쿼리**: **67개**

### 설계문서 준수 사항
1. **7개 테이블 구조**: projects, files, classes, components, tables, columns, relationships
2. **컴포넌트 중심 설계**: components 테이블이 허브 역할
3. **Layer 분류**: CONTROLLER, SERVICE, REPOSITORY, QUERY, TABLE, API_ENTRY
4. **6가지 관계 타입**: CALL_METHOD, CALL_QUERY, USE_TABLE, INHERITANCE, JOIN_EXPLICIT, JOIN_IMPLICIT
5. **Frameworks 추적**: 프론트엔드 기술 스택 자동 수집
6. **file_id 설정 원칙**: 컴포넌트별 적절한 파일 연결

이 데이터는 SampleSrc 폴더의 실제 파일들을 직접 분석하여 작성한 정확한 정답지로, 실제 메타DB 생성 결과와 비교하여 시스템의 정확성을 검증할 수 있습니다.
