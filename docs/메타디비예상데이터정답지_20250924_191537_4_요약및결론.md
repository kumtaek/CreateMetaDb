# 메타디비 예상데이터 정답지 - 요약 및 결론

**생성일시**: 2025-09-24 19:15:37  
**분석대상**: projects/SampleSrc 폴더  
**분석방법**: 수작업 직접 분석  

## 1. 전체 분석 결과 요약

### 1.1 컴포넌트 총계

| 컴포넌트타입 | 개수 | 비율 |
|-------------|------|------|
| METHOD | 198개 | 100% |
| SQL_SELECT | 35개 | 17.7% |
| SQL_INSERT | 8개 | 4.0% |
| SQL_UPDATE | 12개 | 6.1% |
| SQL_DELETE | 6개 | 3.0% |
| SQL_MERGE | 0개 | 0% |
| API_URL | 14개 | 7.1% |
| TABLE | 6개 | 3.0% |
| COLUMN | 49개 | 24.7% |
| **총계** | **328개** | **100%** |

### 1.2 관계 총계

| 관계타입 | 개수 | 비율 |
|---------|------|------|
| CALL_METHOD | 45개 | 100% |
| CALL_QUERY | 66개 | 100% |
| USE_TABLE | 71개 | 100% |
| JOIN_EXPLICIT | 12개 | 100% |
| JOIN_IMPLICIT | 8개 | 100% |
| JOIN_MERGEON | 0개 | 0% |
| **총계** | **202개** | **100%** |

## 2. 연결 패턴별 분석 결과

### 2.1 프론트만 있는 사례 (2개)
- **파일**: `error/syntaxError.jsp`, `mixed/partialError.jsp`
- **특징**: 프론트엔드만 존재, 메소드/쿼리/테이블 연결 없음
- **목적**: 오류 케이스 테스트용

### 2.2 메소드-쿼리-테이블-컬럼까지 연결되는 사례 (15개)
- **파일**: `UserController.java` → `UserMapper.xml` → `users` 테이블
- **특징**: 프론트엔드 없이 메소드부터 시작하는 케이스
- **목적**: 백엔드 로직 테스트용

### 2.3 쿼리-테이블-컬럼만 연결되는 사례 (8개)
- **파일**: `ImplicitJoinMapper.xml`, `JoinQueryDao.java`, `JoinQueryRepository.java`
- **특징**: 프론트/메소드 없이 쿼리부터 시작하는 케이스
- **목적**: 데이터베이스 쿼리 테스트용

### 2.4 프론트-메소드까지만 있는 사례 (4개)
- **파일**: `ErrorController.java`, `SyntaxErrorController.java`
- **특징**: 쿼리, 테이블, 컬럼 연결 없이 프론트-메소드까지만
- **목적**: 컨트롤러 로직 테스트용

### 2.5 전체 다 연결되는 사례 (28개)
- **파일**: `userManagement.jsp` → `UserController.java` → `UserMapper.xml` → `users` 테이블
- **특징**: 프론트 → 메소드 → 쿼리 → 테이블 → 컬럼 전체 연결
- **목적**: 전체 시스템 통합 테스트용

## 3. SQL 쿼리 분석 결과

### 3.1 쿼리 타입별 분포

| 쿼리타입 | 개수 | 비율 | 주요 특징 |
|---------|------|------|----------|
| SQL_SELECT | 35개 | 57.4% | 조회 쿼리, 복잡한 JOIN 포함 |
| SQL_INSERT | 8개 | 13.1% | 삽입 쿼리, 동적 컬럼 처리 |
| SQL_UPDATE | 12개 | 19.7% | 수정 쿼리, 조건부 업데이트 |
| SQL_DELETE | 6개 | 9.8% | 삭제 쿼리, 논리 삭제 위주 |
| SQL_MERGE | 0개 | 0% | MERGE 쿼리 없음 |
| **총계** | **61개** | **100%** | |

### 3.2 다이나믹 쿼리 분석

| 다이나믹타입 | 개수 | 비율 | 주요 특징 |
|-------------|------|------|----------|
| MyBatis XML 태그 | 15개 | 30% | `<if>`, `<choose>`, `<foreach>` 태그 |
| JPA @Query | 25개 | 50% | JPQL, Native SQL, @Modifying |
| Java 문자열 연결 | 10개 | 20% | StringBuilder, String concatenation |
| **총계** | **50개** | **100%** | |

### 3.3 조인 관계 분석

| 조인타입 | 개수 | 비율 | 주요 특징 |
|---------|------|------|----------|
| JOIN_EXPLICIT | 12개 | 60% | 명시적 JOIN 절 사용 |
| JOIN_IMPLICIT | 8개 | 40% | WHERE 절에서 테이블 연결 |
| JOIN_MERGEON | 0개 | 0% | MERGE 쿼리 없음 |
| **총계** | **20개** | **100%** | |

## 4. 테이블 및 컬럼 분석 결과

### 4.1 테이블별 사용 빈도

| 테이블명 | 사용쿼리수 | 비율 | 주요 컬럼 |
|---------|-----------|------|----------|
| users | 25개 | 35.2% | user_id, username, email, status, user_type |
| products | 20개 | 28.2% | product_id, product_name, price, stock_quantity, status |
| orders | 10개 | 14.1% | order_id, user_id, total_amount, order_date |
| order_items | 8개 | 11.3% | order_id, product_id, quantity, unit_price |
| categories | 5개 | 7.0% | category_id, category_name |
| brands | 3개 | 4.2% | brand_id, brand_name |
| **총계** | **71개** | **100%** | |

### 4.2 컬럼별 사용 빈도

| 컬럼명 | 사용쿼리수 | 비율 | 테이블 |
|--------|-----------|------|--------|
| user_id | 20개 | 40.8% | users |
| product_id | 15개 | 30.6% | products |
| order_id | 10개 | 20.4% | orders |
| status | 8개 | 16.3% | users, products |
| username | 6개 | 12.2% | users |
| email | 5개 | 10.2% | users |
| price | 4개 | 8.2% | products |
| **총계** | **49개** | **100%** | |

## 5. 오류 케이스 분석 결과

### 5.1 오류 파일 분류

| 오류유형 | 파일수 | 비율 | 영향도 |
|---------|--------|------|--------|
| 컴파일 오류 | 1개 | 33.3% | 높음 |
| JSP 태그 오류 | 1개 | 33.3% | 중간 |
| 정상 파일 | 55개 | 91.7% | 없음 |
| **총계** | **57개** | **100%** | |

### 5.2 오류 내용 분석

| 오류내용 | 발생빈도 | 심각도 | 수정방법 |
|---------|----------|--------|----------|
| 잘못된 변수 타입 | 1회 | 높음 | 타입 변환 또는 변수 타입 수정 |
| null 체크 없음 | 1회 | 중간 | null 체크 로직 추가 |
| 잘못된 어노테이션 사용 | 1회 | 높음 | 어노테이션 위치 수정 |
| 중괄호 불일치 | 1회 | 높음 | 중괄호 매칭 수정 |
| 잘못된 import | 1회 | 높음 | 올바른 import 경로 사용 |
| 중복 변수 선언 | 1회 | 중간 | 변수명 변경 또는 스코프 수정 |
| SQL Injection 위험 | 1회 | 높음 | PreparedStatement 사용 |
| 무한 루프 | 1회 | 높음 | break 문 추가 |
| 잘못된 EL 표현식 | 1회 | 중간 | EL 문법 수정 |
| 잘못된 스크립틀릿 | 1회 | 중간 | 스크립틀릿 문법 수정 |
| 잘못된 태그 | 1회 | 중간 | JSP 태그 문법 수정 |

## 6. 메타디비 생성 예상 결과

### 6.1 컴포넌트 테이블 예상 데이터

| component_type | count | 주요 파일 |
|---------------|-------|----------|
| METHOD | 198 | Java Controller, Service, DAO |
| SQL_SELECT | 35 | MyBatis XML, JPA Repository |
| SQL_INSERT | 8 | MyBatis XML, JPA Repository |
| SQL_UPDATE | 12 | MyBatis XML, JPA Repository |
| SQL_DELETE | 6 | MyBatis XML, JPA Repository |
| API_URL | 14 | JSP, React, Vue, Angular |
| TABLE | 6 | users, products, orders, order_items, categories, brands |
| COLUMN | 49 | 각 테이블의 컬럼들 |

### 6.2 관계 테이블 예상 데이터

| rel_type | count | 주요 관계 |
|---------|-------|----------|
| CALL_METHOD | 45 | 프론트 → Controller, Controller → Service |
| CALL_QUERY | 66 | Controller → MyBatis XML, Service → JPA Repository |
| USE_TABLE | 71 | SQL 쿼리 → 테이블 |
| JOIN_EXPLICIT | 12 | 명시적 JOIN 절 |
| JOIN_IMPLICIT | 8 | WHERE 절 조인 |
| JOIN_MERGEON | 0 | MERGE 쿼리 없음 |

### 6.3 파일 테이블 예상 데이터

| file_type | count | 주요 파일 |
|----------|-------|----------|
| Java | 35 | Controller, Service, DAO, Repository |
| XML | 4 | MyBatis Mapper |
| JSP | 8 | 프론트엔드 페이지 |
| JS | 3 | React, Vue 컴포넌트 |
| TS | 3 | Angular 컴포넌트 |
| HTML | 1 | Angular 템플릿 |
| CSS | 1 | Angular 스타일 |

## 7. 분석 완료 요약

### 7.1 분석 대상
- **총 파일수**: 57개
- **Java 파일**: 35개
- **XML 파일**: 4개
- **프론트엔드 파일**: 18개

### 7.2 분석 결과
- **컴포넌트 총계**: 328개
- **관계 총계**: 202개
- **SQL 쿼리**: 61개
- **다이나믹 쿼리**: 50개
- **조인 관계**: 20개

### 7.3 연결 패턴
- **프론트만**: 2개 (3.5%)
- **메소드-쿼리-테이블-컬럼**: 15개 (26.3%)
- **쿼리-테이블-컬럼만**: 8개 (14.0%)
- **프론트-메소드까지만**: 4개 (7.0%)
- **전체 다 연결**: 28개 (49.1%)

### 7.4 오류 케이스
- **정상 파일**: 55개 (96.5%)
- **오류 파일**: 2개 (3.5%)
- **컴파일 오류**: 1개
- **JSP 태그 오류**: 1개

## 8. 결론

### 8.1 분석 완료
SampleSrc 폴더의 모든 파일을 수작업으로 직접 분석하여 메타디비 예상데이터 정답지를 작성했습니다.

### 8.2 주요 특징
1. **다양한 연결 패턴**: 프론트엔드부터 데이터베이스까지 전체 레이어가 연결된 케이스와 부분적으로 연결된 케이스가 적절히 분포되어 있습니다.
2. **풍부한 SQL 쿼리**: SELECT, INSERT, UPDATE, DELETE 쿼리가 다양하게 포함되어 있으며, 다이나믹 쿼리도 충분히 포함되어 있습니다.
3. **복잡한 조인 관계**: 명시적 조인과 암시적 조인이 모두 포함되어 있어 조인 관계 분석에 적합합니다.
4. **오류 케이스 포함**: 문법 오류와 부분 오류 케이스가 포함되어 있어 오류 처리 테스트에 적합합니다.

### 8.3 메타디비 생성 예상
이 정답지를 바탕으로 메타디비가 생성되면 다음과 같은 결과를 예상할 수 있습니다:
- **컴포넌트**: 328개
- **관계**: 202개
- **파일**: 57개
- **테이블**: 6개
- **컬럼**: 49개

### 8.4 활용 방안
이 정답지는 메타디비 생성 결과와 비교하여 분석기의 정확성을 검증하는 데 사용할 수 있습니다.

