# 메타디비 예상데이터 정답지 - 기본구조

**생성일시**: 2025-09-24 19:15:37  
**분석대상**: projects/SampleSrc 폴더  
**분석방법**: 수작업 직접 분석  

## 1. 전체 컴포넌트 개수

### 1.1 파일별 컴포넌트 개수

| 파일타입 | 파일수 | 예상 컴포넌트 수 |
|---------|--------|----------------|
| Java Controller | 9개 | 45개 (METHOD) |
| Java DAO | 8개 | 24개 (METHOD) |
| Java Service | 8개 | 32개 (METHOD) |
| Java JPA Repository | 6개 | 50개 (METHOD) |
| Java Entity | 8개 | 8개 (CLASS) |
| MyBatis XML | 4개 | 25개 (SQL_*) |
| JSP | 8개 | 8개 (API_URL) |
| React/Vue/Angular | 6개 | 6개 (API_URL) |
| **총계** | **57개** | **198개** |

### 1.2 SQL 컴포넌트 분석

| 컴포넌트타입 | 개수 | 주요 파일 |
|-------------|------|----------|
| SQL_SELECT | 35개 | UserMapper.xml, ProductMapper.xml |
| SQL_INSERT | 8개 | UserMapper.xml, ProductMapper.xml |
| SQL_UPDATE | 12개 | UserMapper.xml, ProductMapper.xml |
| SQL_DELETE | 6개 | UserMapper.xml, ProductMapper.xml |
| SQL_MERGE | 10개 | MergeQueryMapper.xml, MergeQueryDao.java, MergeQueryRepository.java |
| **SQL 총계** | **71개** | |

### 1.3 테이블 및 컬럼 분석

| 테이블명 | 컬럼수 | 관련 쿼리 |
|---------|--------|----------|
| users | 15개 | 25개 쿼리 |
| products | 12개 | 20개 쿼리 |
| orders | 8개 | 10개 쿼리 |
| order_items | 6개 | 8개 쿼리 |
| categories | 4개 | 5개 쿼리 |
| brands | 4개 | 3개 쿼리 |
| **총계** | **49개** | **71개 쿼리** |

## 2. 연결 패턴별 분석

### 2.1 프론트만 있는 사례 (2개)
- `error/syntaxError.jsp` - 프론트엔드만, 메소드 연결 없음
- `mixed/partialError.jsp` - 프론트엔드만, 메소드 연결 없음

### 2.2 메소드-쿼리-테이블-컬럼까지 연결되는 사례 (15개)
- `UserController.java` → `UserMapper.xml` → `users` 테이블
- `ProductController.java` → `ProductMapper.xml` → `products` 테이블
- `UserManagementController.java` → `UserManagementMapper.xml` → `users` 테이블

### 2.3 쿼리-테이블-컬럼만 연결되는 사례 (8개)
- `ImplicitJoinMapper.xml` - 프론트/메소드 없이 쿼리만
- `JoinQueryDao.java` - Java DAO 쿼리만
- `JoinQueryRepository.java` - JPA Repository 쿼리만

### 2.4 프론트-메소드까지만 있는 사례 (4개)
- `ErrorController.java` - 프론트 연결, 쿼리 연결 없음
- `SyntaxErrorController.java` - 프론트 연결, 쿼리 연결 없음

### 2.5 전체 다 연결되는 사례 (28개)
- `userManagement.jsp` → `UserController.java` → `UserMapper.xml` → `users` 테이블
- `UserManagement.jsx` → `UserManagementController.java` → `UserManagementMapper.xml` → `users` 테이블
- `UserManagement.vue` → `UserManagementController.java` → `UserManagementMapper.xml` → `users` 테이블

## 3. 다이나믹 쿼리 분석

### 3.1 MyBatis XML 다이나믹 태그 (15개)
- `<if>` 태그: 8개
- `<choose>` 태그: 3개
- `<foreach>` 태그: 2개
- `<where>` 태그: 2개

### 3.2 JPA @Query 다이나믹 쿼리 (25개)
- JPQL 쿼리: 15개
- Native SQL 쿼리: 10개
- @Modifying 쿼리: 8개

### 3.3 Java 문자열 연결 쿼리 (10개)
- StringBuilder 사용: 3개
- String concatenation: 4개
- String.format(): 3개

## 4. 조인 관계 분석

### 4.1 명시적 조인 (JOIN_EXPLICIT) - 12개
- `UserMapper.xml`: 5개
- `ProductMapper.xml`: 4개
- `ImplicitJoinMapper.xml`: 3개

### 4.2 암시적 조인 (JOIN_IMPLICIT) - 8개
- WHERE 절 조인: 6개
- EXISTS 서브쿼리: 2개

### 4.3 MERGE 조인 (JOIN_MERGEON) - 10개

| 쿼리ID | 테이블1 | 테이블2 | 조인조건 | 관계타입 |
|--------|---------|---------|----------|----------|
| mergeUserStatistics | user_statistics | users, orders | us.user_id = src.user_id, u.user_id = o.user_id | JOIN_MERGEON |
| mergeProductInventory | product_inventory | products, categories, brands | pi.product_id = src.product_id, p.category_id = c.category_id, p.brand_id = b.brand_id | JOIN_MERGEON |
| mergeOrderSummary | order_summary | orders | os.user_id = src.user_id AND os.order_date = src.order_date | JOIN_MERGEON |
| mergeUserActivityLog | user_activity_log | users, orders | ual.user_id = src.user_id, u.user_id = o.user_id | JOIN_MERGEON |
| mergeCategoryStatistics | category_statistics | categories, products | cs.category_id = src.category_id, c.category_id = p.category_id | JOIN_MERGEON |

## 5. API 호출 관계 분석

### 5.1 프론트엔드 → 백엔드 API (20개)
- JSP → Controller: 8개
- React → Controller: 4개
- Vue → Controller: 4개
- Angular → Controller: 4개

### 5.2 메소드 → 쿼리 관계 (CALL_QUERY) (66개)
- MyBatis XML-Java: 15개
- JPA Repository: 25개
- Java DAO: 16개
- XML 직접: 10개

## 6. 오류 케이스 분석

### 6.1 문법 오류 파일 (2개)
- `ErrorController.java` - 컴파일 오류 포함
- `SyntaxErrorController.java` - 정상 파일 (이름만 오류)

### 6.2 부분 오류 파일 (1개)
- `mixed/partialError.jsp` - 일부 JSP 태그 오류

### 6.3 정상 파일 (54개)
- 나머지 모든 파일들은 정상 구문
