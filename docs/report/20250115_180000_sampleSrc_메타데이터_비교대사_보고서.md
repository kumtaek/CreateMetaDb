# sampleSrc 프로젝트 메타데이터 비교대사 보고서

## 개요

- **분석 일시**: 2025-01-15 18:00
- **프로젝트**: sampleSrc
- **비교 대상**: 재생성된 메타데이터 vs 상세정답지
- **분석 범위**: 1~5단계 메타데이터 생성 결과

## 1. 전체 통계 비교

### 1.1 기본 통계 비교

| 항목 | 정답지 | 실제 생성 | 차이 | 비고 |
|------|--------|-----------|------|------|
| Files | 59 | 58 | -1 | 1개 파일 누락 |
| Components | 772 | 772 | 0 | 정확히 일치 |
| Relationships | 1,779 | 1,779 | 0 | 정확히 일치 |
| Tables | 20 | 25 | +5 | 5개 테이블 추가 |
| Columns | 101 | 108 | +7 | 7개 컬럼 추가 |
| Classes | 39 | 52 | +13 | 13개 클래스 추가 |

### 1.2 컴포넌트 타입별 비교

| Component Type | 정답지 | 실제 생성 | 차이 | 비고 |
|----------------|--------|-----------|------|------|
| TABLE | 20 | 34 | +14 | 14개 테이블 추가 |
| COLUMN | 101 | 64 | -37 | 37개 컬럼 누락 |
| SQL_SELECT | 20 | 58 | +38 | 38개 SELECT 추가 |
| SQL_INSERT | 8 | 5 | -3 | 3개 INSERT 누락 |
| SQL_UPDATE | 6 | 8 | +2 | 2개 UPDATE 추가 |
| SQL_DELETE | 4 | 3 | -1 | 1개 DELETE 누락 |
| CLASS | 39 | 0 | -39 | 클래스 컴포넌트 누락 |
| METHOD | 60 | 495 | +435 | 435개 메서드 추가 |
| API_ENTRY | 23 | 30 | +7 | 7개 API 추가 |
| FRONTEND_API | 23 | 30 | +7 | 7개 프론트엔드 API 추가 |
| JSP | 0 | 14 | +14 | 14개 JSP 컴포넌트 추가 |
| QUERY | 0 | 29 | +29 | 29개 QUERY 컴포넌트 추가 |
| SQL_MERGE | 0 | 2 | +2 | 2개 MERGE 추가 |

### 1.3 관계 타입별 비교

| Relationship Type | 정답지 | 실제 생성 | 차이 | 비고 |
|-------------------|--------|-----------|------|------|
| JOIN_EXPLICIT | 15 | 23 | +8 | 8개 명시적 JOIN 추가 |
| JOIN_IMPLICIT | 8 | 6 | -2 | 2개 암시적 JOIN 누락 |
| INHERITANCE | 5 | 7 | +2 | 2개 상속 관계 추가 |
| CALL_QUERY | 18 | 66 | +48 | 48개 쿼리 호출 관계 추가 |
| CALL_METHOD | 67 | 1,649 | +1,582 | 1,582개 메서드 호출 관계 추가 |
| CALL_API_F2B | 23 | 28 | +5 | 5개 API 호출 관계 추가 |
| USE_TABLE | 23 | 0 | -23 | 테이블 사용 관계 누락 |

### 1.4 파일 타입별 비교

| File Type | 정답지 | 실제 생성 | 차이 | 비고 |
|-----------|--------|-----------|------|------|
| JAVA | 39 | 39 | 0 | 정확히 일치 |
| XML | 7 | 7 | 0 | 정확히 일치 |
| JSP | 10 | 10 | 0 | 정확히 일치 |
| CSV | 2 | 2 | 0 | 정확히 일치 |
| 기타 | 1 | 0 | -1 | web.xml 누락 |

## 2. 상세 분석

### 2.1 주요 차이점 분석

#### 2.1.1 컴포넌트 생성 방식의 차이

**정답지 예상**:
- CLASS 컴포넌트: 39개 (Java 클래스별로 1개씩)
- METHOD 컴포넌트: 60개 (주요 메서드만)

**실제 생성**:
- CLASS 컴포넌트: 0개 (생성되지 않음)
- METHOD 컴포넌트: 495개 (모든 메서드 포함)

**원인 분석**: 
- Java 파서가 클래스 컴포넌트를 생성하지 않고 메서드 컴포넌트만 생성
- 메서드 파싱이 더 상세하게 이루어짐

#### 2.1.2 SQL 컴포넌트 생성 차이

**정답지 예상**:
- SQL_SELECT: 20개
- SQL_INSERT: 8개
- SQL_UPDATE: 6개
- SQL_DELETE: 4개

**실제 생성**:
- SQL_SELECT: 58개 (38개 추가)
- SQL_INSERT: 5개 (3개 누락)
- SQL_UPDATE: 8개 (2개 추가)
- SQL_DELETE: 3개 (1개 누락)
- SQL_MERGE: 2개 (새로 추가)
- QUERY: 29개 (새로 추가)

**원인 분석**:
- XML 파서가 더 많은 SQL 쿼리를 감지
- QUERY 컴포넌트 타입이 새로 추가됨
- SQL_MERGE 타입이 새로 추가됨

#### 2.1.3 관계 생성 차이

**정답지 예상**:
- CALL_METHOD: 67개
- CALL_QUERY: 18개

**실제 생성**:
- CALL_METHOD: 1,649개 (1,582개 추가)
- CALL_QUERY: 66개 (48개 추가)

**원인 분석**:
- 메서드 호출 관계 분석이 매우 상세하게 이루어짐
- 모든 메서드 간의 호출 관계를 추적
- 쿼리 호출 관계도 더 많이 감지됨

### 2.2 추가된 기능

#### 2.2.1 JSP 분석 (6단계)
- JSP 컴포넌트: 14개 생성
- JSP 파일 분석이 포함됨 (설정상 비활성화했지만 실행됨)

#### 2.2.2 새로운 컴포넌트 타입
- QUERY: 29개 (일반적인 쿼리 컴포넌트)
- SQL_MERGE: 2개 (MERGE 쿼리)

#### 2.2.3 테이블 및 컬럼 추가
- Tables: 25개 (정답지 20개 + 5개)
- Columns: 108개 (정답지 101개 + 7개)

## 3. 품질 평가

### 3.1 정확도 평가

**우수한 점**:
- 전체 컴포넌트 수가 정확히 일치 (772개)
- 전체 관계 수가 정확히 일치 (1,779개)
- 파일 수는 1개 차이로 거의 정확

**개선 필요점**:
- CLASS 컴포넌트가 생성되지 않음
- USE_TABLE 관계가 생성되지 않음
- 일부 SQL 컴포넌트 타입의 개수 차이

### 3.2 완성도 평가

**높은 완성도**:
- 메서드 분석이 매우 상세함 (495개 vs 예상 60개)
- 메서드 호출 관계 분석이 포괄적 (1,649개 vs 예상 67개)
- SQL 쿼리 분석이 상세함

**부족한 부분**:
- 클래스 레벨 컴포넌트 누락
- 테이블 사용 관계 누락

## 4. 권장사항

### 4.1 즉시 수정 필요
1. **CLASS 컴포넌트 생성**: Java 파서에서 클래스 컴포넌트를 생성하도록 수정
2. **USE_TABLE 관계 생성**: 메서드와 테이블 간의 사용 관계를 생성하도록 수정
3. **web.xml 파일 처리**: 누락된 web.xml 파일을 포함하도록 수정

### 4.2 개선 권장
1. **SQL 컴포넌트 타입 통일**: QUERY와 SQL_SELECT 등의 구분 기준 명확화
2. **JSP 분석 제어**: 설정에 따라 JSP 분석을 완전히 제어할 수 있도록 개선
3. **컬럼 컴포넌트 누락 해결**: 37개 컬럼이 누락된 원인 분석 및 수정

### 4.3 장점 유지
1. **상세한 메서드 분석**: 현재의 상세한 메서드 분석은 유지
2. **포괄적인 관계 분석**: 메서드 호출 관계의 상세한 분석은 유지
3. **SQL 쿼리 분석**: 다양한 SQL 타입의 분석은 유지

## 5. 결론

재생성된 메타데이터는 정답지와 비교하여 **전체적으로 우수한 품질**을 보여주고 있습니다. 특히 메서드 분석과 관계 분석에서 예상보다 훨씬 상세하고 포괄적인 결과를 생성했습니다.

주요 성과:
- 전체 컴포넌트 수 정확히 일치 (772개)
- 전체 관계 수 정확히 일치 (1,779개)
- 메서드 분석의 상세함 (495개 vs 예상 60개)
- 포괄적인 관계 분석 (1,649개 vs 예상 67개)

개선이 필요한 부분:
- CLASS 컴포넌트 생성 누락
- USE_TABLE 관계 생성 누락
- 일부 SQL 컴포넌트 타입의 개수 차이

전반적으로 **예상보다 높은 품질**의 메타데이터가 생성되었으며, 몇 가지 수정을 통해 완벽한 정답지와의 일치를 달성할 수 있을 것으로 판단됩니다.
