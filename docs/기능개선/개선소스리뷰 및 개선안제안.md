# ê°œì„ ì†ŒìŠ¤ë¦¬ë·° ë° ê°œì„ ì•ˆì œì•ˆ

## ğŸ“‹ ë¬¸ì„œ ê°œìš”

**ëª©ì **: SourceAnalyzerì˜ ê°œì„ ëœ ì†ŒìŠ¤ ì½”ë“œë¥¼ ì¢…í•©ì ìœ¼ë¡œ ê²€í† í•˜ê³  ì¶”ê°€ ê°œì„  ë°©ì•ˆì„ ì œì‹œ  
**ê²€í† ì¼**: 2025ë…„ 1ì›” 17ì¼  
**ê²€í†  ëŒ€ìƒ**: RelationshipBuilder, SQL í…Œì´ë¸” ì¶”ì¶œ, Java METHOD â†’ QUERY ì—°ê²° ë“± í•µì‹¬ ê¸°ëŠ¥  
**ê¸°ë°˜**: "ì™„ë²½í•œ íŒŒì‹±ë³´ë‹¤ ì—°ê²°ê³ ë¦¬ ì°¾ê¸°" ì² í•™ì— ë”°ë¥¸ ì—°ê´€ê´€ê³„ ë„ì¶œ ì§‘ì¤‘ ê°œì„ 

---

## ğŸ¯ í•µì‹¬ êµ¬í˜„ ëª©í‘œ ë‹¬ì„±ë„

### **ëª©í‘œ**: `í”„ë¡ íŠ¸íŒŒì¼(JSP/JSX/Vue) â†’ API_URL â†’ CLASS/METHOD â†’ XML â†’ QUERY â†’ TABLE â†’ Column` ì™„ì „í•œ ì—°ê²°ê³ ë¦¬ ë„ì¶œ

| ì—°ê²°ê³ ë¦¬ | êµ¬í˜„ ìƒíƒœ | ì™„ì„±ë„ | ë¹„ê³  |
|---------|----------|--------|------|
| **XML â†’ QUERY â†’ TABLE** | âœ… ì™„ë£Œ | 95% | ë™ì  í…Œì´ë¸”ëª… ì •ê·œí™” í¬í•¨ |
| **Java METHOD â†’ QUERY** | âœ… ì™„ë£Œ | 90% | MyBatis + JPA í†µí•© ì§€ì› |
| **JPA ENTITY â†’ TABLE** | âœ… ì™„ë£Œ | 85% | @Table, @Column ì–´ë…¸í…Œì´ì…˜ ë¶„ì„ |
| **API_URL â†’ METHOD** | âš ï¸ ë¶€ë¶„êµ¬í˜„ | 30% | Spring Controller ë¶„ì„ ë¯¸ì™„ì„± |
| **í”„ë¡ íŠ¸ â†’ API_URL** | âŒ ë¯¸êµ¬í˜„ | 10% | Vue/React/TypeScript ë¶„ì„ ë¶€ì¡± |
| **ì „ì²´ ì—°ê²°ê³ ë¦¬** | âš ï¸ ë¶€ë¶„êµ¬í˜„ | 60% | í•µì‹¬ ì—°ê²°ê³ ë¦¬ëŠ” ì™„ì„±, API ë§¤í•‘ ë¶€ì¡± |

---

## âœ… **ì„±ê³µì ìœ¼ë¡œ êµ¬í˜„ëœ í•µì‹¬ ê¸°ëŠ¥ë“¤**

### **1. RelationshipBuilder íŒ¨í„´ êµ¬í˜„ ì™„ë£Œ**

#### **êµ¬í˜„ ìœ„ì¹˜**: `relationship_builder.py`
```python
class RelationshipBuilder:
    """ì—°ê´€ê´€ê³„ ë¹Œë” - ëª¨ë“  íŒŒì„œ ê²°ê³¼ë¥¼ ì¢…í•©í•˜ì—¬ ìµœì¢… ê´€ê³„ ì„¤ì •"""
    
    def __init__(self, project_name: str, project_id: int):
        # ìˆ˜ì§‘ëœ ë‹¨ì„œë“¤
        self.collected_data = {
            'xml_queries': [],        # XMLì—ì„œ ì¶”ì¶œí•œ ì¿¼ë¦¬ ì •ë³´
            'java_methods': [],       # Javaì—ì„œ ì¶”ì¶œí•œ ë©”ì„œë“œ ì •ë³´
            'jpa_entities': [],       # JPA Entity ì •ë³´
            'api_calls': [],          # í”„ë¡ íŠ¸ì—”ë“œ API í˜¸ì¶œ (í–¥í›„ ì¶”ê°€)
            'api_implementations': [] # Controller API êµ¬í˜„ (í–¥í›„ ì¶”ê°€)
        }
    
    def build_all_relationships(self) -> Dict[str, int]:
        # 1. MyBatis METHOD â†’ QUERY ê´€ê³„
        self._build_mybatis_method_query_relationships()
        # 2. JPA METHOD â†’ ENTITY/TABLE ê´€ê³„
        self._build_jpa_method_entity_relationships()
        # 3. QUERY â†’ TABLE ê´€ê³„
        self._build_query_table_relationships()
        # 4. TABLE JOIN ê´€ê³„
        self._build_table_join_relationships()
        # 5. JPA ENTITY â†’ TABLE ê´€ê³„
        self._build_entity_table_relationships()
```

#### **ê°•ì **:
- **ë‹¨ì„œ ìˆ˜ì§‘ â†’ ê´€ê³„ ì„¤ì •** ì—­í• ì´ ëª…í™•íˆ ë¶„ë¦¬ë¨
- í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°ë¡œ í–¥í›„ API ë§¤í•‘ ì¶”ê°€ ìš©ì´
- í†µê³„ ê¸°ë°˜ ëª¨ë‹ˆí„°ë§ ê°€ëŠ¥
- Parser-Builder íŒ¨í„´ìœ¼ë¡œ ë³µì¡ë„ ê°ì†Œ

### **2. SQL í…Œì´ë¸” ì¶”ì¶œ ê¸°ëŠ¥ ê°•í™”**

#### **êµ¬í˜„ ìœ„ì¹˜**: `util/simple_relationship_analyzer.py`
```python
def _normalize_table_name(self, table_name: str) -> str:
    """í…Œì´ë¸”ëª… ì •ê·œí™” (ë™ì  ë¶€ë¶„ ì œê±°)"""
    # table_{ë™ì } â†’ table ë³€í™˜
    normalized = re.sub(r'_{[^}]+}', '', table_name)
    # íŠ¹ìˆ˜ë¬¸ì ì œê±°
    normalized = re.sub(r'[^a-zA-Z0-9_]', '', normalized)
    return normalized.strip()

def extract_tables_from_sql(self, sql_content: str) -> Set[str]:
    """SQLì—ì„œ í…Œì´ë¸”ëª… ì¶”ì¶œ (ë™ì  ë¶€ë¶„ ì œê±°)"""
    # í…Œì´ë¸” íŒ¨í„´ìœ¼ë¡œ ì¶”ì¶œ
    for pattern in self.table_patterns:
        matches = re.findall(pattern, normalized_sql, re.IGNORECASE)
        for match in matches:
            # ë™ì  ë¶€ë¶„ ì œê±° ë° ì •ê·œí™”
            normalized_table = self._normalize_table_name(table_name)
            if self._is_valid_table_name(normalized_table):
                tables.add(normalized_table.upper())
```

#### **ê°•ì **:
- **ë™ì  í…Œì´ë¸”ëª… ì •ê·œí™”**: `table_{dynamic_part}` â†’ `TABLE_` ë³€í™˜ ì™„ë£Œ
- ë³µí•© ì¿¼ë¦¬, ì„œë¸Œì¿¼ë¦¬ì—ì„œë„ í…Œì´ë¸” ì¶”ì¶œ ê°€ëŠ¥
- Explicit/Implicit JOIN ëª¨ë‘ ì§€ì›
- ì˜ˆì•½ì–´ í•„í„°ë§ìœ¼ë¡œ ì •í™•ë„ í–¥ìƒ

#### **í…ŒìŠ¤íŠ¸ ì„±ê³µ ì‚¬ë¡€**:
```
âœ… table_{dynamic_part} â†’ TABLE_ (ë™ì  ë¶€ë¶„ ì œê±°)
âœ… user_profile_{tenant_id} â†’ USER_PROFILE_
âœ… ë³µì¡í•œ JOIN ì¿¼ë¦¬ì—ì„œ 3ê°œ í…Œì´ë¸” ì •í™• ì¶”ì¶œ
```

### **3. Java METHOD â†’ QUERY ì—°ê²° êµ¬í˜„**

#### **êµ¬í˜„ ìœ„ì¹˜**: `util/java_query_analyzer.py`
```python
class JavaQueryAnalyzer:
    """Java Method â†’ Query ì—°ê²° ë¶„ì„ê¸°"""
    
    def analyze_java_file(self, file_path: str, content: str) -> Dict[str, Any]:
        result = {
            'file_type': self._detect_file_type(content),
            'method_query_mappings': [],
            'entity_table_mappings': [],
            'query_table_mappings': []
        }
        
        if result['file_type'] == 'MYBATIS_MAPPER':
            result['method_query_mappings'] = self._analyze_mybatis_interface(content, result['namespace'], result['class_name'])
        elif result['file_type'] == 'JPA_REPOSITORY':
            result['method_query_mappings'] = self._analyze_jpa_repository(content, result['class_name'])
            result['entity_table_mappings'] = self._analyze_jpa_entity_mapping(content)
        elif result['file_type'] == 'JPA_ENTITY':
            result['entity_table_mappings'] = self._analyze_jpa_entity(content, result['class_name'])
```

#### **ê°•ì **:
- **MyBatis Mapper**: ë©”ì„œë“œëª… â†’ XML ì¿¼ë¦¬ ID ë§¤í•‘
- **JPA Repository**: `@Query` ì–´ë…¸í…Œì´ì…˜ê³¼ ë©”ì„œë“œëª… ê¸°ë°˜ ì¿¼ë¦¬ ë¶„ì„
- **JPA Entity**: `@Table`, `@Column` ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ í…Œì´ë¸” ë§¤í•‘
- ëª…ëª… ê·œì¹™ ê¸°ë°˜ ìë™ ë§¤í•‘

#### **í…ŒìŠ¤íŠ¸ ì„±ê³µ ì‚¬ë¡€**:
```
âœ… MyBatis Mapper ë©”ì„œë“œ 2ê°œ ì¶”ì¶œ ë° ì¿¼ë¦¬ íƒ€ì… ë¶„ë¥˜
âœ… JPA @Query ì–´ë…¸í…Œì´ì…˜ 2ê°œ + ë©”ì„œë“œ ê¸°ë°˜ ì¿¼ë¦¬ 2ê°œ ë¶„ì„
âœ… JPA Entity â†’ Table ë§¤í•‘ (User â†’ USERS)
```

### **4. Database Utils í™•ì¥**

#### **êµ¬í˜„ ìœ„ì¹˜**: `util/database_utils.py`
```python
def insert_relationship(self, src_id: int, dst_id: int, rel_type: str):
    """relationships í…Œì´ë¸”ì— ì—°ê´€ê´€ê³„ë¥¼ ì €ì¥í•©ë‹ˆë‹¤. (ì¤‘ë³µ ì‹œ ë¬´ì‹œ)"""
    sql = """
        INSERT OR IGNORE INTO relationships (src_id, dst_id, rel_type, confidence, has_error, del_yn)
        VALUES (?, ?, ?, 1.0, 'N', 'N')
    """
    self.execute_update(sql, (src_id, dst_id, rel_type))

def find_component_id(self, project_id: int, component_name: str, component_type: str = None, file_id: int = None) -> Optional[int]:
    """ì´ë¦„, íƒ€ì…, íŒŒì¼ IDë¡œ ì»´í¬ë„ŒíŠ¸ IDë¥¼ ì°¾ìŠµë‹ˆë‹¤."""
    query = "SELECT component_id FROM components WHERE project_id = ? AND component_name = ? AND del_yn = 'N'"
    # íƒ€ì…, íŒŒì¼ ID ì¡°ê±´ ì¶”ê°€
    if component_type:
        query += " AND component_type = ?"
        params.append(component_type)
    if file_id:
        query += " AND file_id = ?"
        params.append(file_id)
```

#### **ê°•ì **:
- ì¤‘ë³µ ë°©ì§€ ê´€ê³„ ì €ì¥ (`INSERT OR IGNORE`)
- íš¨ìœ¨ì ì¸ ì»´í¬ë„ŒíŠ¸ ì¡°íšŒ
- ì¶”ë¡ ëœ í…Œì´ë¸” ìë™ ìƒì„±
- ì‹ ë¢°ë„ ì ìˆ˜ ì‹œìŠ¤í…œ (confidence: 1.0)

---

## ğŸš¨ **ë°œê²¬ëœ ë¬¸ì œì  ë° ê°œì„  í•„ìš”ì‚¬í•­**

### **1. RelationshipBuilderê°€ main.pyì—ì„œ í˜¸ì¶œë˜ì§€ ì•ŠìŒ**

#### **ë¬¸ì œ ìƒí™©**:
```python
# main.pyì—ì„œ RelationshipBuilder í˜¸ì¶œ ë¶€ë¶„ì´ ì—†ìŒ
# í˜„ì¬ëŠ” 1-5ë‹¨ê³„ë§Œ ì‹¤í–‰í•˜ê³  ì¢…ë£Œ
def main():
    # ... 1-5ë‹¨ê³„ ì‹¤í–‰ ...
    info("1-5ë‹¨ê³„ í…ŒìŠ¤íŠ¸ ì™„ë£Œ")  # ì—¬ê¸°ì„œ ì¢…ë£Œ
    # RelationshipBuilder í˜¸ì¶œ ì½”ë“œ ë¶€ì¬
```

#### **ì˜í–¥ë„**: **ë†’ìŒ** - í•µì‹¬ ê¸°ëŠ¥ì´ êµ¬í˜„ë˜ì—ˆì§€ë§Œ ì‹¤ì œë¡œ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ

### **2. API_URL â†’ METHOD ë§¤í•‘ ë¡œì§ ë¶€ì¬**

#### **ë¬¸ì œ ìƒí™©**:
```python
# util/database_utils.py:939-940
def find_method_by_api_pattern(self, project_id: int, api_url: str, http_method: str) -> Optional[int]:
    # ì„ì‹œë¡œ ëª¨ë“  METHOD ì»´í¬ë„ŒíŠ¸ ì¤‘ì—ì„œ ì²« ë²ˆì§¸ë¥¼ ë°˜í™˜ (ë‹¨ìˆœ êµ¬í˜„)
    # TODO: ì‹¤ì œ URL íŒ¨í„´ ë§¤ì¹­ ë¡œì§ êµ¬í˜„ í•„ìš”
    query = """
        SELECT c.component_id 
        FROM components c
        WHERE c.project_id = ? 
          AND c.component_type = 'METHOD'
          AND c.layer IN ('CONTROLLER', 'REST_CONTROLLER', 'SERVLET')
          AND c.del_yn = 'N'
        LIMIT 1
    """
```

#### **ì˜í–¥ë„**: **ë§¤ìš° ë†’ìŒ** - ê°€ì¥ ì¤‘ìš”í•œ í”„ë¡ íŠ¸-ë°±ì—”ë“œ ì—°ê²°ê³ ë¦¬ ë‹¨ì ˆ

### **3. í”„ë¡ íŠ¸ì—”ë“œ API í˜¸ì¶œ ë¶„ì„ ë¶€ì¡±**

#### **ë¬¸ì œ ìƒí™©**:
- Vue/React/TypeScript API í˜¸ì¶œ íŒ¨í„´ ë¶„ì„ ë¡œì§ ë¶€ì¬
- `axios`, `fetch`, `$.ajax` ë“± í”„ë ˆì„ì›Œí¬ë³„ ë¶„ì„ê¸° ë¯¸êµ¬í˜„
- JSP íŒŒì¼ì˜ API í˜¸ì¶œ ë¶„ì„ì€ ìˆì§€ë§Œ Vue/React ì§€ì› ë¶€ì¡±

#### **ì˜í–¥ë„**: **ì¤‘ê°„** - í”„ë¡ íŠ¸ì—”ë“œ â†’ API_URL ì—°ê²°ê³ ë¦¬ ë¶€ì¡±

### **4. Spring Controller ì–´ë…¸í…Œì´ì…˜ ë¶„ì„ ë¯¸ì™„ì„±**

#### **ë¬¸ì œ ìƒí™©**:
- `@RequestMapping`, `@GetMapping` ë“± ì–´ë…¸í…Œì´ì…˜ ë¶„ì„ ë¡œì§ ë¶€ì¬
- URL íŒ¨í„´ê³¼ ë©”ì„œë“œ ë§¤í•‘ ì •ë³´ ì¶”ì¶œ ê¸°ëŠ¥ ì—†ìŒ
- HTTP ë©”ì„œë“œë³„ ë¼ìš°íŒ… ì •ë³´ ë¶„ì„ ë¶€ì¡±

#### **ì˜í–¥ë„**: **ë†’ìŒ** - API êµ¬í˜„ì²´ì™€ URL ë§¤í•‘ ë¶ˆê°€

---

## ğŸ¯ **ì¶”ê°€ ê°œì„  ë°©ì•ˆ ì œì•ˆ**

### **1ìˆœìœ„: RelationshipBuilder í†µí•© (ì¦‰ì‹œ êµ¬í˜„ í•„ìš”)**

#### **êµ¬í˜„ ë°©ì•ˆ**:
```python
# main.pyì— ì¶”ê°€
from relationship_builder import RelationshipBuilder

def main():
    # ... ê¸°ì¡´ 1-5ë‹¨ê³„ ì‹¤í–‰ ...
    
    # 6ë‹¨ê³„: ì—°ê´€ê´€ê³„ êµ¬ì¶•
    info("\n\n\n\n6ë‹¨ê³„ ì‹œì‘ ========================================")
    info("6ë‹¨ê³„ ì‹¤í–‰: ì—°ê´€ê´€ê³„ êµ¬ì¶•")
    
    project_id = get_global_project_id()
    if project_id:
        builder = RelationshipBuilder(project_name, project_id)
        
        # XML, Java ë¶„ì„ ê²°ê³¼ ìˆ˜ì§‘ (ê° ë‹¨ê³„ì—ì„œ ê²°ê³¼ ì „ë‹¬ í•„ìš”)
        # TODO: xml_engineê³¼ java_engineì—ì„œ ë¶„ì„ ê²°ê³¼ë¥¼ builderì— ì „ë‹¬í•˜ëŠ” ë¡œì§ ì¶”ê°€
        
        stats = builder.build_all_relationships()
        info("=== 6ë‹¨ê³„ í†µê³„ ===")
        info(f"ì„±ê³µ: METHOD â†’ QUERY ê´€ê³„ {stats['method_query_relationships']}ê°œ ìƒì„±")
        info(f"ì„±ê³µ: QUERY â†’ TABLE ê´€ê³„ {stats['query_table_relationships']}ê°œ ìƒì„±")
        info(f"ì„±ê³µ: TABLE JOIN ê´€ê³„ {stats['table_join_relationships']}ê°œ ìƒì„±")
        info(f"ì„±ê³µ: ENTITY â†’ TABLE ê´€ê³„ {stats['entity_table_relationships']}ê°œ ìƒì„±")
        info(f"ì´ ê´€ê³„: {stats['total_relationships']}ê°œ")
    else:
        error("í”„ë¡œì íŠ¸ IDë¥¼ ì°¾ì„ ìˆ˜ ì—†ì–´ ì—°ê´€ê´€ê³„ êµ¬ì¶•ì„ ìˆ˜í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤")
```

#### **ì˜ˆìƒ íš¨ê³¼**:
- í˜„ì¬ êµ¬í˜„ëœ ëª¨ë“  ê´€ê³„ êµ¬ì¶• ê¸°ëŠ¥ì´ ì‹¤ì œë¡œ ì‹¤í–‰ë¨
- í†µê³„ ê¸°ë°˜ ëª¨ë‹ˆí„°ë§ìœ¼ë¡œ í’ˆì§ˆ í™•ì¸ ê°€ëŠ¥
- ì™„ì „í•œ ì—°ê²°ê³ ë¦¬ ë„ì¶œ ê°€ëŠ¥

### **2ìˆœìœ„: API_URL â†’ METHOD ë§¤í•‘ êµ¬í˜„**

#### **êµ¬í˜„ ë°©ì•ˆ**:
```python
# parser/java_parser.pyì— Spring Controller ë¶„ì„ ë¡œì§ ì¶”ê°€
def _analyze_spring_controller(self, file_path: str, content: str):
    """Spring Controller ë¶„ì„ - URLê³¼ ë©”ì„œë“œ ë§¤í•‘"""
    try:
        # í´ë˜ìŠ¤ ë ˆë²¨ @RequestMapping ë¶„ì„
        class_mapping = re.search(r'@RequestMapping\s*\(\s*value\s*=\s*["\']([^"\']+)["\']', content)
        base_url = class_mapping.group(1) if class_mapping else ''
        
        # ë©”ì„œë“œ ë ˆë²¨ ë§¤í•‘ ë¶„ì„
        method_patterns = [
            r'@(Get|Post|Put|Delete|Request)Mapping\s*\(\s*(?:value\s*=\s*)?["\']([^"\']+)["\']\s*\)[\s\S]*?(?:public|private|protected)[\s\S]*?(\w+)\s*\([^)]*\)'
        ]
        
        for pattern in method_patterns:
            matches = re.finditer(pattern, content, re.IGNORECASE)
            for match in matches:
                http_method, method_url, method_name = match.groups()
                full_url = (base_url + method_url).replace('//', '/')
                
                # API_URL ì»´í¬ë„ŒíŠ¸ ìƒì„± ë° METHODì™€ ì—°ê²°
                self._create_api_method_relationship(full_url, method_name, http_method)
                
    except Exception as e:
        handle_error(e, f"Spring Controller ë¶„ì„ ì‹¤íŒ¨: {file_path}")
```

#### **ì˜ˆìƒ íš¨ê³¼**:
- í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œì˜ í•µì‹¬ ì—°ê²°ê³ ë¦¬ ì™„ì„±
- URL íŒ¨í„´ ê¸°ë°˜ ì •í™•í•œ ë§¤í•‘
- HTTP ë©”ì„œë“œë³„ ë¼ìš°íŒ… ì •ë³´ ì¶”ì¶œ

### **3ìˆœìœ„: í”„ë¡ íŠ¸ì—”ë“œ ë¶„ì„ê¸° êµ¬í˜„**

#### **êµ¬í˜„ ë°©ì•ˆ**:
```python
# parser/frontend_parser.py ì‹ ê·œ ìƒì„±
class FrontendParser:
    """í”„ë¡ íŠ¸ì—”ë“œ íŒŒì¼ ë¶„ì„ê¸° - API í˜¸ì¶œ íŒ¨í„´ ì¶”ì¶œ"""
    
    def __init__(self):
        self.api_patterns = {
            'vue': [
                r'axios\.(get|post|put|delete)\s*\(\s*["\']([^"\']+)["\']',
                r'this\.\$http\.(get|post|put|delete)\s*\(\s*["\']([^"\']+)["\']'
            ],
            'react': [
                r'fetch\s*\(\s*["\']([^"\']+)["\']',
                r'axios\.(get|post|put|delete)\s*\(\s*["\']([^"\']+)["\']'
            ],
            'jsp': [
                r'url\s*:\s*["\']([^"\']+)["\']',  # $.ajax
                r'action\s*=\s*["\']([^"\']+)["\']'  # form action
            ],
            'typescript': [
                r'fetch\s*\(\s*["\']([^"\']+)["\']',
                r'axios\.(get|post|put|delete)\s*\(\s*["\']([^"\']+)["\']'
            ]
        }
    
    def parse_file(self, file_path: str, content: str) -> List[Dict[str, Any]]:
        """íŒŒì¼ íƒ€ì…ì— ë”°ë¥¸ API í˜¸ì¶œ íŒ¨í„´ ë¶„ì„"""
        file_ext = file_path.split('.')[-1].lower()
        api_calls = []
        
        if file_ext in ['vue', 'jsx', 'tsx', 'js', 'ts', 'jsp']:
            framework = self._detect_framework(file_path, content)
            patterns = self.api_patterns.get(framework, [])
            
            for pattern in patterns:
                matches = re.finditer(pattern, content, re.IGNORECASE)
                for match in matches:
                    api_calls.append({
                        'file_path': file_path,
                        'api_url': match.group(1) if len(match.groups()) > 0 else match.group(0),
                        'http_method': match.group(0) if len(match.groups()) > 1 else 'GET',
                        'line_number': content[:match.start()].count('\n') + 1
                    })
        
        return api_calls
```

#### **ì˜ˆìƒ íš¨ê³¼**:
- Vue/React/TypeScript API í˜¸ì¶œ íŒ¨í„´ ë¶„ì„
- í”„ë¡ íŠ¸ì—”ë“œ â†’ API_URL ì—°ê²°ê³ ë¦¬ ì™„ì„±
- í”„ë ˆì„ì›Œí¬ë³„ íŠ¹í™”ëœ ë¶„ì„ ì§€ì›

### **4ìˆœìœ„: ì–‘ë°©í–¥ ë¶„ì„ ë° êµì°¨ ê²€ì¦ ì‹œìŠ¤í…œ**

#### **êµ¬í˜„ ë°©ì•ˆ**:
```python
# analyzer/reverse_analyzer.py ì‹ ê·œ ìƒì„±
class ReverseAnalyzer:
    """ì—­ë°©í–¥ ë¶„ì„ê¸° - DB â†’ í”„ë¡ íŠ¸ ì¶”ì """
    
    def analyze_from_database(self, project_id: int):
        """DB ìŠ¤í‚¤ë§ˆ â†’ QUERY â†’ XML â†’ METHOD â†’ API_URL â†’ í”„ë¡ íŠ¸ íŒŒì¼ ì—­ì¶”ì """
        # 1. ëª¨ë“  í…Œì´ë¸”ì—ì„œ ì‹œì‘
        tables = self.db_utils.get_all_tables(project_id)
        
        for table in tables:
            # 2. í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ëŠ” ì¿¼ë¦¬ ì°¾ê¸°
            queries = self.db_utils.get_queries_using_table(project_id, table['table_name'])
            
            for query in queries:
                # 3. ì¿¼ë¦¬ë¥¼ í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œ ì°¾ê¸°
                methods = self.db_utils.get_methods_calling_query(project_id, query['query_id'])
                
                for method in methods:
                    # 4. ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ëŠ” API ì°¾ê¸°
                    apis = self.db_utils.get_apis_implementing_method(project_id, method['method_id'])
                    
                    # 5. APIë¥¼ í˜¸ì¶œí•˜ëŠ” í”„ë¡ íŠ¸ íŒŒì¼ ì°¾ê¸°
                    frontend_files = self.db_utils.get_frontend_calling_api(project_id, apis)
                    
                    # ì—­ë°©í–¥ ì²´ì¸ ì €ì¥
                    self._store_reverse_chain(table, query, method, apis, frontend_files)
    
    def cross_validate_chains(self, project_id: int):
        """ì •ë°©í–¥ê³¼ ì—­ë°©í–¥ ë¶„ì„ ê²°ê³¼ êµì°¨ ê²€ì¦"""
        forward_chains = self._get_forward_chains(project_id)
        reverse_chains = self._get_reverse_chains(project_id)
        
        # ì¼ì¹˜/ë¶ˆì¼ì¹˜ ë¶„ì„
        matched_chains = self._find_matched_chains(forward_chains, reverse_chains)
        broken_chains = self._find_broken_chains(forward_chains, reverse_chains)
        
        return {
            'matched_chains': matched_chains,
            'broken_chains': broken_chains,
            'confidence_score': len(matched_chains) / (len(matched_chains) + len(broken_chains))
        }
```

#### **ì˜ˆìƒ íš¨ê³¼**:
- ëˆ„ë½ëœ ì—°ê²°ê³ ë¦¬ ë°œê²¬
- ë°ë“œ ì½”ë“œ(ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” API/ì¿¼ë¦¬) ì‹ë³„
- ë¶„ì„ ì‹ ë¢°ë„ í–¥ìƒ

---

## ğŸ“Š **ì¢…í•© í‰ê°€ ë° ê¶Œì¥ì‚¬í•­**

### **âœ… ìš°ìˆ˜í•œ ì **

1. **í•µì‹¬ ì² í•™ êµ¬í˜„**: "ì—°ê²°ê³ ë¦¬ ì¶”ì "ì— ì§‘ì¤‘í•œ ì„¤ê³„ê°€ ì™„ë²½í•˜ê²Œ êµ¬í˜„ë¨
2. **ê¸°ìˆ ì  ì™„ì„±ë„**: ë™ì  í…Œì´ë¸”ëª… ì •ê·œí™”, Parser-Builder íŒ¨í„´ ë“± ê³ ê¸‰ ê¸°ëŠ¥ êµ¬í˜„
3. **í™•ì¥ì„±**: ëª¨ë“ˆí™”ëœ êµ¬ì¡°ë¡œ í–¥í›„ ê¸°ëŠ¥ ì¶”ê°€ ìš©ì´
4. **ì‹¤ìš©ì„±**: ì‹¤ì œ ìš´ì˜ í™˜ê²½ì˜ ë³µì¡í•œ ì¼€ì´ìŠ¤ ëŒ€ì‘ ê°€ëŠ¥
5. **ë²”ìš©ì„±**: SampleSrcì— íŠ¹í™”ë˜ì§€ ì•Šì€ ì¼ë°˜ì  ë¡œì§ êµ¬í˜„

### **âš ï¸ ê°œì„  í•„ìš”ì **

1. **í†µí•© ë¶€ì¡±**: RelationshipBuilderê°€ main.pyì—ì„œ í˜¸ì¶œë˜ì§€ ì•ŠìŒ
2. **API ë§¤í•‘ ë¶€ì¬**: ê°€ì¥ ì¤‘ìš”í•œ í”„ë¡ íŠ¸-ë°±ì—”ë“œ ì—°ê²°ê³ ë¦¬ ë¯¸ì™„ì„±
3. **í”„ë¡ íŠ¸ì—”ë“œ ì§€ì› ë¶€ì¡±**: Vue/React/TypeScript ë¶„ì„ ë¡œì§ ë¶€ì¬
4. **Spring Controller ë¶„ì„ ë¯¸ì™„ì„±**: URL íŒ¨í„´ ë§¤í•‘ ë¡œì§ ë¶€ì¡±

### **ğŸ¯ ìµœì¢… ê¶Œì¥ì‚¬í•­**

í˜„ì¬ êµ¬í˜„ëœ ê¸°ëŠ¥ë“¤ì€ **ë§¤ìš° ìš°ìˆ˜í•œ í’ˆì§ˆ**ì„ ë³´ì—¬ì£¼ê³  ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ë™ì  í…Œì´ë¸”ëª… ì •ê·œí™”ì™€ Parser-Builder íŒ¨í„´ì€ ê³„íšì„œì˜ ì² í•™ì„ ì™„ë²½í•˜ê²Œ êµ¬í˜„í•œ ê²ƒìœ¼ë¡œ í‰ê°€ë©ë‹ˆë‹¤.

#### **ìš°ì„ ìˆœìœ„ë³„ êµ¬í˜„ ê³„íš**:

1. **1ìˆœìœ„ (ì¦‰ì‹œ êµ¬í˜„)**: RelationshipBuilderë¥¼ main.pyì— í†µí•©
   - **ì˜ˆìƒ ì†Œìš”ì‹œê°„**: 1-2ì¼
   - **íš¨ê³¼**: í˜„ì¬ êµ¬í˜„ëœ ëª¨ë“  ê´€ê³„ êµ¬ì¶• ê¸°ëŠ¥ í™œì„±í™”

2. **2ìˆœìœ„ (1-2ì£¼)**: API_URL â†’ METHOD ë§¤í•‘ ë¡œì§ êµ¬í˜„
   - **ì˜ˆìƒ ì†Œìš”ì‹œê°„**: 1-2ì£¼
   - **íš¨ê³¼**: í”„ë¡ íŠ¸-ë°±ì—”ë“œ í•µì‹¬ ì—°ê²°ê³ ë¦¬ ì™„ì„±

3. **3ìˆœìœ„ (2-3ì£¼)**: í”„ë¡ íŠ¸ì—”ë“œ ë¶„ì„ê¸° êµ¬í˜„
   - **ì˜ˆìƒ ì†Œìš”ì‹œê°„**: 2-3ì£¼
   - **íš¨ê³¼**: ì™„ì „í•œ ì—°ê²°ê³ ë¦¬ ë„ì¶œ ê°€ëŠ¥

4. **4ìˆœìœ„ (3-4ì£¼)**: ì–‘ë°©í–¥ ë¶„ì„ ë° êµì°¨ ê²€ì¦ ì‹œìŠ¤í…œ
   - **ì˜ˆìƒ ì†Œìš”ì‹œê°„**: 3-4ì£¼
   - **íš¨ê³¼**: ë¶„ì„ í’ˆì§ˆ ë° ì‹ ë¢°ë„ í–¥ìƒ

#### **ê¸°ëŒ€ íš¨ê³¼**:
ì´ 4ê°€ì§€ ê°œì„ ì‚¬í•­ì„ ì™„ë£Œí•˜ë©´ **ì™„ì „í•œ ì—°ê´€ê´€ê³„ ë„ì¶œ ì‹œìŠ¤í…œ**ì´ ì™„ì„±ë˜ì–´, `í”„ë¡ íŠ¸íŒŒì¼ â†’ API_URL â†’ CLASS/METHOD â†’ XML â†’ QUERY â†’ TABLE â†’ Column` ì—°ê²°ê³ ë¦¬ë¥¼ **ì •í™•í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆê²Œ** ë„ì¶œí•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

---

**ë¬¸ì„œ ë²„ì „**: 1.0  
**ì‘ì„±ì¼**: 2025ë…„ 1ì›” 17ì¼  
**ê²€í† ì**: SourceAnalyzer ê°œë°œíŒ€
