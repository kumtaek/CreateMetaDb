# 메타디비 예상 데이터 정답지 (실제 파일 분석 기반) - Part 1

**작성일**: 2025-09-24 18:31:00

## 1. 전체 테이블 건수 (실제 분석 결과)

| 테이블명 | 실제 건수 | 분석 근거 |
|----------|-----------|-----------|
| projects | 1 | SampleSrc 프로젝트 1개 |
| files | 141 | 실제 파일 수 (Java 92개 + XML 21개 + JSP 13개 + 기타 15개) |
| classes | 0 | 현재 시스템에서 클래스 분석 미구현 |
| components | 788 | 실제 분석 결과 (현재 메타디비와 일치) |
| tables | 23 | DB 스키마 파일 분석 결과 |
| columns | 52 | DB 스키마 파일 분석 결과 |
| relationships | 3,314 | 실제 분석 결과 (현재 메타디비와 일치) |

## 2. SQL 컴포넌트 상세 분석 (실제 파일 분석)

### 2.1 JPA @Query 분석 결과

| 파일명 | 총 @Query 개수 | SELECT 쿼리 | UPDATE 쿼리 | 기타 쿼리 |
|--------|---------------|-------------|-------------|-----------|
| UserRepository.java | 18개 | 12개 | 2개 | 4개 |
| CategoryRepository.java | 13개 | 11개 | - | 2개 |
| OrderRepository.java | 24개 | 18개 | 3개 | 3개 |
| ProductRepository.java | 23개 | 15개 | 4개 | 4개 |
| JoinConditionRepository.java | 9개 | 9개 | - | - |
| **JPA @Query 총계** | **87개** | **65개** | **9개** | **13개** |

### 2.2 MyBatis XML 분석 결과

| 항목 | 개수 |
|------|------|
| 전체 MyBatis 태그 | 160개 |
| `<select>` 태그 | 114개 |
| `<insert>` 태그 | 19개 |
| `<update>` 태그 | 17개 |
| `<delete>` 태그 | 4개 |
| `<merge>` 태그 | 6개 |

### 2.3 Java MERGE 쿼리 상세 분석

| 파일명 | 메서드명 | 쿼리ID | 쿼리종류 | 테이블 | 조인조건 |
|--------|----------|--------|----------|--------|----------|
| TestEnhancedSqlDao.java | testMergeConcatenation | testMergeConcatenation_sql | SQL_MERGE | user_statistics, orders | us.user_id = o.user_id |
| TestEnhancedSqlDao.java | testStringLiteralSQL_mergeSQL | testStringLiteralSQL_mergeSQL | SQL_MERGE | user_statistics, users | us.user_id = u.user_id |
| TestComplexJavaPatternDao.java | testMergeStringLiteral | testMergeStringLiteral | SQL_MERGE | user_statistics, orders | us.user_id = o.user_id |
| CoreSqlPatternDao.java | mergeWithPlusOperator | mergeWithPlusOperator | SQL_MERGE | 동적 테이블 | 동적 조인조건 |
| CoreSqlPatternDao.java | mergeWithStringFormat | mergeWithStringFormat | SQL_MERGE | 동적 테이블 | 동적 조인조건 |
| CoreSqlPatternDao.java | mergeAuditData | mergeAuditData | SQL_MERGE | audit 테이블 | entity_id 매칭 |

### 2.4 XML MERGE 쿼리 상세 분석

| 파일명 | 쿼리ID | 쿼리종류 | 테이블 | 조인조건 |
|--------|--------|----------|--------|----------|
| ComplexEnterpriseMapper.xml | user_settlements_merge | SQL_MERGE | user_settlements_${environment} | us.user_id = settlement_data.user_id |
| ComplexEnterpriseMapper.xml | settlement_statistics_merge | SQL_MERGE | settlement_statistics_${environment} | ss.stat_date = batch_stats.stat_date |
| DirectXmlQueryMapper.xml | mergeDirectUserPreferences | SQL_MERGE | user_preferences | up.user_id = recent_purchases.user_id |

## 3. SQL 컴포넌트 예상 건수

| 컴포넌트 타입 | 예상 건수 | 분석 근거 |
|---------------|-----------|-----------|
| SQL_SELECT | 179개 | JPA 65개 + MyBatis 114개 |
| SQL_INSERT | 19개 | MyBatis XML 19개 |
| SQL_UPDATE | 26개 | JPA 9개 + MyBatis 17개 |
| SQL_DELETE | 4개 | MyBatis XML 4개 |
| SQL_MERGE | 9개 | Java 6개 + XML 3개 |
| **SQL 총계** | **237개** | **실제 파일 분석 결과** |

---
**작성자**: AI Assistant  
**검토일**: 2025-09-24 18:31:00  
**상태**: Part 1 - 기본 구조 및 SQL 컴포넌트 분석 완료
