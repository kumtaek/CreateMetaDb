로깅 설정 파일 로드 실패: cannot import name 'PathUtils' from 'util' (consider renaming 'D:\\Analyzer\\CreateMetaDb\\util\\__init__.py' if it has the same name as a library you intended to import)
2025-09-14 22:35:47,165 - SourceAnalyzer - INFO - main.py:17 - Recursion limit set to: 50
2025-09-14 22:35:47,165 - SourceAnalyzer - INFO - main.py:25 - 오래된 로그 파일 정리 시작
2025-09-14 22:35:47,165 - SourceAnalyzer - INFO - file_utils.py:362 - 삭제할 오래된 로그 파일이 없습니다
2025-09-14 22:35:47,165 - SourceAnalyzer - INFO - main.py:30 - 삭제할 오래된 로그 파일이 없습니다
2025-09-14 22:35:47,165 - SourceAnalyzer - INFO - main.py:33 - SourceAnalyzer 시작
2025-09-14 22:35:47,171 - SourceAnalyzer - INFO - main.py:44 - 분석 대상 프로젝트: sampleSrc
2025-09-14 22:35:47,172 - SourceAnalyzer - INFO - main.py:61 - 분석 옵션:
2025-09-14 22:35:47,172 - SourceAnalyzer - INFO - main.py:62 -   - 메타데이터베이스 초기화: False
2025-09-14 22:35:47,172 - SourceAnalyzer - INFO - main.py:63 -   - 상세 로그: False
2025-09-14 22:35:47,172 - SourceAnalyzer - INFO - main.py:64 -   - 출력 형식: html
2025-09-14 22:35:47,172 - SourceAnalyzer - INFO - main.py:65 -   - 드라이런 모드: False
2025-09-14 22:35:47,172 - SourceAnalyzer - INFO - main.py:66 -   - 강제 실행: False
2025-09-14 22:35:47,172 - SourceAnalyzer - INFO - main.py:75 - 1단계 실행: 파일 정보 저장 (프로젝트 전체 스캔)
2025-09-14 22:35:47,175 - SourceAnalyzer - INFO - file_loading.py:86 - 메타데이터베이스 초기화 완료: D:\Analyzer\CreateMetaDb\projects\sampleSrc\metadata.db
2025-09-14 22:35:47,439 - SourceAnalyzer - INFO - file_loading.py:1161 - === 파일 스캔 완료 ===
2025-09-14 22:35:47,440 - SourceAnalyzer - INFO - main.py:89 - 1단계 완료: 파일 정보 저장
2025-09-14 22:35:47,442 - SourceAnalyzer - INFO - main.py:108 - 전역 프로젝트 정보 설정: sampleSrc (ID: 1)
2025-09-14 22:35:47,442 - SourceAnalyzer - INFO - main.py:118 - 2단계 실행: 데이터베이스 구조 저장 및 컴포넌트 생성
2025-09-14 22:35:47,443 - SourceAnalyzer - INFO - file_loading.py:1181 - === 데이터베이스 로딩 시작: 데이터베이스 구조 저장 ===
2025-09-14 22:35:47,444 - SourceAnalyzer - INFO - file_utils.py:55 - 인코딩 문제 감지, 다른 인코딩으로 재시도: ALL_TABLES.csv
2025-09-14 22:35:47,444 - SourceAnalyzer - INFO - file_loading.py:547 - CSV 파일 로드 완료: D:\Analyzer\CreateMetaDb\projects\sampleSrc\db_schema\ALL_TABLES.csv, 16개 행
2025-09-14 22:35:47,445 - SourceAnalyzer - INFO - file_loading.py:644 - 테이블 정보 저장 완료: 16개 테이블 (오류: 0개)
2025-09-14 22:35:47,445 - SourceAnalyzer - INFO - file_utils.py:55 - 인코딩 문제 감지, 다른 인코딩으로 재시도: ALL_TAB_COLUMNS.csv
2025-09-14 22:35:47,446 - SourceAnalyzer - INFO - file_loading.py:547 - CSV 파일 로드 완료: D:\Analyzer\CreateMetaDb\projects\sampleSrc\db_schema\ALL_TAB_COLUMNS.csv, 91개 행
2025-09-14 22:35:47,449 - SourceAnalyzer - INFO - file_loading.py:762 - 컬럼 정보 저장 완료: 91개 컬럼 (오류: 0개)
2025-09-14 22:35:47,451 - SourceAnalyzer - INFO - file_loading.py:829 - 테이블 컴포넌트 생성 완료: 25개
2025-09-14 22:35:47,462 - SourceAnalyzer - INFO - file_loading.py:909 - 컬럼 컴포넌트 생성 완료: 108개
2025-09-14 22:35:47,464 - SourceAnalyzer - INFO - file_loading.py:967 - 컬럼 component_id 업데이트 완료: 108개
2025-09-14 22:35:47,464 - SourceAnalyzer - INFO - file_loading.py:1212 - === 데이터베이스 로딩 완료 ===
2025-09-14 22:35:47,464 - SourceAnalyzer - INFO - main.py:125 - 2단계 완료: 데이터베이스 구조 저장 및 컴포넌트 생성
2025-09-14 22:35:47,464 - SourceAnalyzer - INFO - main.py:131 - 3단계 실행: XML 파일 분석 및 SQL 컴포넌트 등록 + JOIN 관계 분석
2025-09-14 22:35:47,516 - SourceAnalyzer - INFO - sql_content_manager.py:63 - SQL Content 데이터베이스 초기화 완료: D:\Analyzer\CreateMetaDb\projects\sampleSrc\SqlContent.db
2025-09-14 22:35:47,516 - SourceAnalyzer - INFO - xml_loading.py:70 - === XML 로딩 시작: 3~4단계 통합 처리 ===
2025-09-14 22:35:47,522 - SourceAnalyzer - INFO - xml_parser.py:148 - MyBatis XML 파일 수집 완료: 6개
2025-09-14 22:35:47,522 - SourceAnalyzer - INFO - xml_loading.py:109 - XML 파일: D:\Analyzer\CreateMetaDb\projects\sampleSrc\src\com\example\dynamicquery\UserMapper.xml
2025-09-14 22:35:47,522 - SourceAnalyzer - INFO - xml_loading.py:110 - 디렉토리 경로: src\com\example\dynamicquery
2025-09-14 22:35:47,522 - SourceAnalyzer - INFO - xml_loading.py:121 - SQL 쿼리 결과: 4개
2025-09-14 22:35:47,522 - SourceAnalyzer - INFO - xml_loading.py:125 - file_id 조회 성공: 4
2025-09-14 22:35:47,556 - SourceAnalyzer - INFO - xml_loading.py:211 - === XML 로딩 엔진: SQL 컴포넌트 저장 시작 ===
2025-09-14 22:35:47,556 - SourceAnalyzer - INFO - xml_loading.py:212 - 전달받은 SQL 쿼리 수: 8개
2025-09-14 22:35:47,556 - SourceAnalyzer - INFO - xml_loading.py:220 - XML에서 추출된 SQL 쿼리 타입별 통계: {'select': 8}
2025-09-14 22:35:47,556 - SourceAnalyzer - INFO - xml_loading.py:233 - 프로젝트 ID: 1
2025-09-14 22:35:47,557 - SourceAnalyzer - INFO - xml_loading.py:294 - SQL 컴포넌트 저장 완료: 8/8개 성공
2025-09-14 22:35:47,557 - SourceAnalyzer - INFO - xml_loading.py:393 - JOIN 관계 저장 완료: 5개
2025-09-14 22:35:47,557 - SourceAnalyzer - INFO - xml_loading.py:109 - XML 파일: D:\Analyzer\CreateMetaDb\projects\sampleSrc\src\main\resources\mybatis\mapper\ImplicitJoinMapper.xml
2025-09-14 22:35:47,557 - SourceAnalyzer - INFO - xml_loading.py:110 - 디렉토리 경로: src\main\resources\mybatis\mapper
2025-09-14 22:35:47,557 - SourceAnalyzer - INFO - xml_loading.py:121 - SQL 쿼리 결과: 5개
2025-09-14 22:35:47,558 - SourceAnalyzer - INFO - xml_loading.py:125 - file_id 조회 성공: 35
2025-09-14 22:35:47,580 - SourceAnalyzer - INFO - xml_loading.py:211 - === XML 로딩 엔진: SQL 컴포넌트 저장 시작 ===
2025-09-14 22:35:47,581 - SourceAnalyzer - INFO - xml_loading.py:212 - 전달받은 SQL 쿼리 수: 5개
2025-09-14 22:35:47,581 - SourceAnalyzer - INFO - xml_loading.py:220 - XML에서 추출된 SQL 쿼리 타입별 통계: {'select': 5}
2025-09-14 22:35:47,581 - SourceAnalyzer - INFO - xml_loading.py:233 - 프로젝트 ID: 1
2025-09-14 22:35:47,581 - SourceAnalyzer - INFO - xml_loading.py:294 - SQL 컴포넌트 저장 완료: 5/5개 성공
2025-09-14 22:35:47,581 - SourceAnalyzer - INFO - xml_loading.py:393 - JOIN 관계 저장 완료: 8개
2025-09-14 22:35:47,582 - SourceAnalyzer - INFO - xml_loading.py:109 - XML 파일: D:\Analyzer\CreateMetaDb\projects\sampleSrc\src\main\resources\mybatis\mapper\ImplicitJoinTestMapper.xml
2025-09-14 22:35:47,582 - SourceAnalyzer - INFO - xml_loading.py:110 - 디렉토리 경로: src\main\resources\mybatis\mapper
2025-09-14 22:35:47,582 - SourceAnalyzer - INFO - xml_loading.py:121 - SQL 쿼리 결과: 5개
2025-09-14 22:35:47,582 - SourceAnalyzer - INFO - xml_loading.py:125 - file_id 조회 성공: 35
2025-09-14 22:35:47,595 - SourceAnalyzer - ERROR - logger.py:207 - FATAL ERROR at D:\Analyzer\CreateMetaDb\util\logger.py:174 in handle_error()
Code: tb = traceback.extract_tb(error.__traceback__)
Message: XML 파일 처리 실패: D:\Analyzer\CreateMetaDb\projects\sampleSrc\src\main\resources\mybatis\mapper\ImplicitJoinTestMapper.xml
Exception: AttributeError: 'str' object has no attribute '__traceback__'
Stack Trace:
Traceback (most recent call last):
  File "D:\Analyzer\CreateMetaDb\parser\xml_parser.py", line 323, in _parse_with_regex
    tree = ET.parse(xml_file)
  File "C:\Python313\Lib\xml\etree\ElementTree.py", line 1204, in parse
    tree.parse(source, parser)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\xml\etree\ElementTree.py", line 569, in parse
    self._root = parser._parse_whole(source)
                 ~~~~~~~~~~~~~~~~~~~^^^^^^^^
xml.etree.ElementTree.ParseError: not well-formed (invalid token): line 190, column 37

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Analyzer\CreateMetaDb\parser\xml_parser.py", line 326, in _parse_with_regex
    handle_error(f"XML 파싱 오류: {xml_file} - {str(e)}")
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Analyzer\CreateMetaDb\util\logger.py", line 277, in handle_error
    app_logger.handle_error(error, custom_message, exit_code)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Analyzer\CreateMetaDb\util\logger.py", line 174, in handle_error
    tb = traceback.extract_tb(error.__traceback__)
                              ^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute '__traceback__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Analyzer\CreateMetaDb\parser\xml_parser.py", line 216, in extract_sql_queries_and_analyze_relationships
    regex_result = self._parse_with_regex(xml_file)
  File "D:\Analyzer\CreateMetaDb\parser\xml_parser.py", line 361, in _parse_with_regex
    handle_error(f"모든 XML 파싱 방법 실패: {xml_file} - {str(e)}")
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Analyzer\CreateMetaDb\util\logger.py", line 277, in handle_error
    app_logger.handle_error(error, custom_message, exit_code)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Analyzer\CreateMetaDb\util\logger.py", line 174, in handle_error
    tb = traceback.extract_tb(error.__traceback__)
                              ^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute '__traceback__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Analyzer\CreateMetaDb\xml_loading.py", line 137, in execute_xml_loading
    analysis_result = self.xml_parser.extract_sql_queries_and_analyze_relationships(xml_file)
  File "D:\Analyzer\CreateMetaDb\parser\xml_parser.py", line 232, in extract_sql_queries_and_analyze_relationships
    handle_error(error_message)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "D:\Analyzer\CreateMetaDb\util\logger.py", line 277, in handle_error
    app_logger.handle_error(error, custom_message, exit_code)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Analyzer\CreateMetaDb\util\logger.py", line 174, in handle_error
    tb = traceback.extract_tb(error.__traceback__)
                              ^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute '__traceback__'

2025-09-14 22:35:47,596 - SourceAnalyzer - ERROR - logger.py:210 - 
[FATAL ERROR] 프로그램이 에러로 인해 종료됩니다. (종료코드: 1)
2025-09-14 22:35:47,596 - SourceAnalyzer - ERROR - logger.py:211 - 자세한 내용은 로그 파일을 확인하세요: logs/SourceAnalyzer_20250914_223547.log
2025-09-14 22:35:47,597 - SourceAnalyzer - INFO - sql_content_manager.py:282 - SQL Content 데이터베이스 연결 해제
